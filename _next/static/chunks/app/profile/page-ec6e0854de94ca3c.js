(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{795:(e,t,s)=>{"use strict";s.d(t,{d:()=>y});var r=s(5155),a=s(2115),l=s(5185),i=s(6101),n=s(6081),d=s(5845),c=s(1275),o=s(3655),x="Switch",[m,h]=(0,n.A)(x),[u,v]=m(x),f=a.forwardRef((e,t)=>{let{__scopeSwitch:s,name:n,checked:c,defaultChecked:m,required:h,disabled:v,value:f="on",onCheckedChange:j,form:g,...N}=e,[y,w]=a.useState(null),C=(0,i.s)(t,e=>w(e)),k=a.useRef(!1),S=!y||g||!!y.closest("form"),[D,R]=(0,d.i)({prop:c,defaultProp:null!=m&&m,onChange:j,caller:x});return(0,r.jsxs)(u,{scope:s,checked:D,disabled:v,children:[(0,r.jsx)(o.sG.button,{type:"button",role:"switch","aria-checked":D,"aria-required":h,"data-state":b(D),"data-disabled":v?"":void 0,disabled:v,value:f,...N,ref:C,onClick:(0,l.m)(e.onClick,e=>{R(e=>!e),S&&(k.current=e.isPropagationStopped(),k.current||e.stopPropagation())})}),S&&(0,r.jsx)(p,{control:y,bubbles:!k.current,name:n,value:f,checked:D,required:h,disabled:v,form:g,style:{transform:"translateX(-100%)"}})]})});f.displayName=x;var j="SwitchThumb",g=a.forwardRef((e,t)=>{let{__scopeSwitch:s,...a}=e,l=v(j,s);return(0,r.jsx)(o.sG.span,{"data-state":b(l.checked),"data-disabled":l.disabled?"":void 0,...a,ref:t})});g.displayName=j;var p=a.forwardRef((e,t)=>{let{__scopeSwitch:s,control:l,checked:n,bubbles:d=!0,...o}=e,x=a.useRef(null),m=(0,i.s)(x,t),h=function(e){let t=a.useRef({value:e,previous:e});return a.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(n),u=(0,c.X)(l);return a.useEffect(()=>{let e=x.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(h!==n&&t){let s=new Event("click",{bubbles:d});t.call(e,n),e.dispatchEvent(s)}},[h,n,d]),(0,r.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:m,style:{...o.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function b(e){return e?"checked":"unchecked"}p.displayName="SwitchBubbleInput";var N=s(9434);let y=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(f,{className:(0,N.cn)("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-[var(--switch-checked-bg)] data-[state=unchecked]:bg-[var(--switch-unchecked-bg)]",s),...a,ref:t,children:(0,r.jsx)(g,{className:(0,N.cn)("pointer-events-none block h-4 w-4 rounded-full bg-[var(--switch-thumb-bg)] shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})})});y.displayName=f.displayName},1183:(e,t,s)=>{"use strict";s.d(t,{BV:()=>n,E4:()=>i,In:()=>c,J1:()=>l,Kp:()=>d});var r=s(8924);let a=e=>e.invitation,l=(0,r.Mz)([a],e=>e.invitationCode),i=(0,r.Mz)([a],e=>e.commissionRecords),n=(0,r.Mz)([a],e=>e.comprehensiveData),d=(0,r.Mz)([a],e=>e.loading),c=(0,r.Mz)([a],e=>e.error);(0,r.Mz)([d],e=>e.generateCode),(0,r.Mz)([d],e=>e.getComprehensiveData),(0,r.Mz)([d],e=>e.getCommissionRecords),(0,r.Mz)([c],e=>e.generateCode),(0,r.Mz)([c],e=>e.getComprehensiveData),(0,r.Mz)([c],e=>e.getCommissionRecords)},1960:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>q});var r=s(5155),a=s(2115),l=s(6821),i=s(285),n=s(2045),d=s(1795),c=s(2523),o=s(1394),x=s(157);let m=(0,x.A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var h=s(7374),u=s(8613);function v(){var e,t,s;let{user:l,updateProfile:n,uploadAvatar:d}=(0,u.Ir)(),[x,v]=(0,a.useState)(""),[f,j]=(0,a.useState)(""),[g,p]=(0,a.useState)(!1),[b,N]=(0,a.useState)(null),y=(0,a.useRef)(null);(0,a.useEffect)(()=>{l&&(v(l.nickname||l.username||""),j(l.email||""),N(null))},[l]);let w=async e=>{e.preventDefault();try{await n({nickname:x})?h.oR.success("账号设置已保存"):h.oR.error("保存失败，请稍后重试")}catch(e){h.oR.error("保存失败，请稍后重试"),console.error("Failed to update user profile:",e)}},C=async e=>{e.preventDefault();let t=e.target.files;if(!t||0===t.length)return;let s=t[0];if(!s.type.startsWith("image/")||s.size>5242880)return;let r=URL.createObjectURL(s);N(r),p(!0);try{if(await d(s))N(null);else throw Error("上传失败")}catch(e){console.error("上传头像失败:",e),N(null)}finally{p(!1),y.current&&(y.current.value=""),URL.revokeObjectURL(r)}},k=b||(null==l?void 0:l.avatarUrl),S=(null==l?void 0:l.nickname)||(null==l?void 0:l.username)||"",D=(null==l||null==(t=l.email)||null==(e=t.charAt(0))?void 0:e.toUpperCase())||"U",R=(null==(s=S.charAt(0))?void 0:s.toUpperCase())||D;return(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-medium mb-6",children:"账号设置"}),(0,r.jsx)("form",{onSubmit:w,children:(0,r.jsxs)("div",{className:"space-y-5",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-[var(--text-secondary)] mb-1",children:"用户名"}),(0,r.jsx)(c.p,{id:"username",value:x,onChange:e=>v(e.target.value),placeholder:"输入用户名"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-[var(--text-secondary)] mb-1",children:"邮箱"}),(0,r.jsx)(c.p,{id:"email",type:"email",value:f,onChange:e=>j(e.target.value),placeholder:"用户邮箱",disabled:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"avatar",className:"block text-sm font-medium text-[var(--text-secondary)] mb-1",children:"头像"}),(0,r.jsxs)("div",{className:"bg-[var(--bg-tertiary)] border border-[var(--border-color)] rounded-md p-6 text-center",children:[(0,r.jsx)("div",{className:"mb-4",children:g?(0,r.jsx)("div",{className:"w-20 h-20 rounded-full bg-[var(--bg-secondary)] mx-auto flex items-center justify-center",children:(0,r.jsx)(m,{className:"w-8 h-8 animate-spin text-[var(--text-secondary)]"})}):k?(0,r.jsxs)(o.eu,{className:"w-20 h-20 mx-auto",children:[(0,r.jsx)(o.BK,{src:k,alt:S||"用户头像"}),(0,r.jsx)(o.q5,{className:"bg-[var(--bg-secondary)] text-2xl font-bold",children:R})]}):(0,r.jsx)("div",{className:"w-20 h-20 rounded-full bg-[var(--bg-secondary)] mx-auto flex items-center justify-center text-2xl font-bold",children:R})}),(0,r.jsx)(i.$,{type:"button",variant:"outline",size:"sm",onClick:e=>{e.preventDefault(),e.stopPropagation(),y.current&&y.current.click()},disabled:g,children:g?"上传中...":"上传新头像"})]})]}),(0,r.jsx)("div",{className:"pt-4",children:(0,r.jsx)(i.$,{type:"submit",children:"保存更改"})})]})}),(0,r.jsx)("input",{type:"file",ref:y,onChange:C,accept:"image/*",className:"hidden"})]})}var f=s(4430),j=s(2732),g=s(3096);function p(){let[e,t]=(0,a.useState)(""),[s,l]=(0,a.useState)(""),[n,d]=(0,a.useState)(""),[o,x]=(0,a.useState)(!1),[m,u]=(0,a.useState)(""),[v,p]=(0,a.useState)(!1),[b,N]=(0,a.useState)(!1),[y,w]=(0,a.useState)(!1),[C,k]=(0,a.useState)(!1),S=async r=>{if(r.preventDefault(),u(""),!e)return void u("请输入当前密码");if(!v)return void u("新密码不符合强度要求");x(!0);try{await f.u.changePassword({currentPassword:e,newPassword:s,confirmPassword:n}),h.oR.success("密码已成功更新"),t(""),l(""),d("")}catch(t){var a,i;console.error("密码更新失败:",t);let e=(null==(i=t.response)||null==(a=i.data)?void 0:a.message)||t.message||"密码更新失败，请重试";h.oR.error(e),u(e)}finally{x(!1)}};return(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-medium mb-6",children:"修改密码"}),(0,r.jsx)("form",{onSubmit:S,children:(0,r.jsxs)("div",{className:"space-y-5",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"current-password",className:"block text-sm font-medium text-[var(--text-secondary)] mb-1",children:"当前密码"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(c.p,{id:"current-password",type:b?"text":"password",value:e,onChange:e=>t(e.target.value),className:"bg-[var(--bg-tertiary)] border-[var(--border-color)] text-[var(--text-primary)] input-focus pr-10",placeholder:"输入当前密码",disabled:o}),(0,r.jsx)("button",{type:"button",onClick:()=>N(!b),className:"absolute inset-y-0 right-0 px-3 flex items-center text-[var(--text-secondary)] hover:text-[var(--text-primary)]",children:b?(0,r.jsx)(g.N5q,{}):(0,r.jsx)(g.V$C,{})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"new-password",className:"block text-sm font-medium text-[var(--text-secondary)] mb-1",children:"新密码"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(c.p,{id:"new-password",type:y?"text":"password",value:s,onChange:e=>l(e.target.value),className:"bg-[var(--bg-tertiary)] border-[var(--border-color)] text-[var(--text-primary)] input-focus pr-10",placeholder:"输入新密码",disabled:o}),(0,r.jsx)("button",{type:"button",onClick:()=>w(!y),className:"absolute inset-y-0 right-0 px-3 flex items-center text-[var(--text-secondary)] hover:text-[var(--text-primary)]",children:y?(0,r.jsx)(g.N5q,{}):(0,r.jsx)(g.V$C,{})})]}),(0,r.jsx)(j.g,{password:s,onValidationChange:p})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-[var(--text-secondary)] mb-1",children:"确认新密码"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(c.p,{id:"confirm-password",type:C?"text":"password",value:n,onChange:e=>d(e.target.value),className:"bg-[var(--bg-tertiary)] border-[var(--border-color)] text-[var(--text-primary)] input-focus pr-10",placeholder:"再次输入新密码",disabled:o}),(0,r.jsx)("button",{type:"button",onClick:()=>k(!C),className:"absolute inset-y-0 right-0 px-3 flex items-center text-[var(--text-secondary)] hover:text-[var(--text-primary)]",children:C?(0,r.jsx)(g.N5q,{}):(0,r.jsx)(g.V$C,{})})]})]}),m&&(0,r.jsx)("div",{className:"rounded-md p-3 bg-[var(--error-bg)] border border-[var(--error-border)] text-[var(--error-text)] text-sm",children:m}),(0,r.jsx)("div",{className:"pt-4",children:(0,r.jsx)(i.$,{type:"submit",disabled:o,children:o?"loading":"更新密码"})})]})})]})}var b=s(795);function N(){let{notificationSettings:e,updateSettings:t}=(0,u.Ir)(),s=(s,r)=>{t({notifications:{...e,[s]:r}}).then(e=>{e?h.oR.success("通知设置已更新"):h.oR.error("更新失败")}).catch(()=>h.oR.error("更新失败"))};return e?(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-medium mb-6",children:"通知设置"}),(0,r.jsxs)("div",{className:"space-y-5",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium",children:"电子邮件通知"}),(0,r.jsx)("p",{className:"text-sm text-[var(--text-secondary)]",children:"接收重要更新和通知到您的邮箱"})]}),(0,r.jsx)(b.d,{checked:e.email,onCheckedChange:e=>s("email",e)})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium",children:"推送通知"}),(0,r.jsx)("p",{className:"text-sm text-[var(--text-secondary)]",children:"在使用应用时接收实时通知"})]}),(0,r.jsx)(b.d,{checked:e.push,onCheckedChange:e=>s("push",e)})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium",children:"产品更新"}),(0,r.jsx)("p",{className:"text-sm text-[var(--text-secondary)]",children:"接收产品新功能和更新通知"})]}),(0,r.jsx)(b.d,{checked:e.updates,onCheckedChange:e=>s("updates",e)})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium",children:"营销邮件"}),(0,r.jsx)("p",{className:"text-sm text-[var(--text-secondary)]",children:"接收促销和市场活动信息"})]}),(0,r.jsx)(b.d,{checked:e.marketing,onCheckedChange:e=>s("marketing",e)})]})]})]}):null}function y(){let{privacySettings:e,updateSettings:t}=(0,u.Ir)(),s=(s,r)=>{t({privacy:{...e,[s]:r}}).then(e=>{e?h.oR.success("隐私设置已更新"):h.oR.error("更新失败")}).catch(()=>h.oR.error("更新失败"))};return e?(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-medium mb-6",children:"隐私设置"}),(0,r.jsxs)("div",{className:"space-y-5",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium",children:"个人资料可见性"}),(0,r.jsx)("p",{className:"text-sm text-[var(--text-secondary)]",children:"设置谁可以查看您的个人资料"})]}),(0,r.jsx)(b.d,{checked:e.profileVisible,onCheckedChange:e=>s("profileVisible",e)})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium",children:"内容可见性"}),(0,r.jsx)("p",{className:"text-sm text-[var(--text-secondary)]",children:"设置谁可以查看您的内容"})]}),(0,r.jsx)(b.d,{checked:e.contentVisible,onCheckedChange:e=>s("contentVisible",e)})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium",children:"活动可见性"}),(0,r.jsx)("p",{className:"text-sm text-[var(--text-secondary)]",children:"设置谁可以查看您的活动状态"})]}),(0,r.jsx)(b.d,{checked:e.activityVisible,onCheckedChange:e=>s("activityVisible",e)})]})]})]}):null}var w=s(9879);function C(){let{themeSetting:e,updateSettings:t}=(0,u.Ir)(),{setTheme:s}=(0,w.D)(),l=(0,a.useCallback)(r=>{console.log("[ThemeSettings] 用户选择新主题:",r),s(r),t({theme:r}).then(t=>{t?(h.oR.success("主题已应用"),console.log("[ThemeSettings] 主题设置保存成功:",r)):(s(e),h.oR.error("应用失败"),console.error("[ThemeSettings] 主题设置保存失败"))}).catch(t=>{s(e),h.oR.error("应用失败"),console.error("[ThemeSettings] 主题设置保存错误:",t)})},[t,e,s]);return(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-medium mb-6",children:"界面与主题"}),(0,r.jsx)("div",{className:"space-y-5",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-[var(--text-secondary)] mb-3",children:"主题选择"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,r.jsx)("div",{className:"bg-[#16162d] aspect-video rounded-lg p-3 flex items-center justify-center cursor-pointer border-2 theme-card ".concat("dark"===e?"border-blue-500":"border-transparent hover:border-gray-500"),onClick:()=>l("dark"),children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"bg-[#252644] w-full h-3 rounded mb-2"}),(0,r.jsx)("div",{className:"bg-[#1a1b33] w-full h-12 rounded mb-2"}),(0,r.jsx)("div",{className:"text-xs text-white",children:"深色"})]})}),(0,r.jsx)("div",{className:"bg-[#f8fafc] aspect-video rounded-lg p-3 flex items-center justify-center cursor-pointer border-2 theme-card ".concat("light"===e?"border-blue-500":"border-transparent hover:border-gray-500"),onClick:()=>l("light"),children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"bg-[#e2e8f0] w-full h-3 rounded mb-2"}),(0,r.jsx)("div",{className:"bg-white w-full h-12 rounded mb-2"}),(0,r.jsx)("div",{className:"text-xs text-gray-700",children:"浅色"})]})}),(0,r.jsx)("div",{className:"bg-[#fff0f6] aspect-video rounded-lg p-3 flex items-center justify-center cursor-pointer border-2 theme-card ".concat("pink"===e?"border-pink-500":"border-transparent hover:border-pink-300"),onClick:()=>l("pink"),children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"bg-[#ffdeeb] w-full h-3 rounded mb-2"}),(0,r.jsx)("div",{className:"bg-[#fff5f7] w-full h-12 rounded mb-2"}),(0,r.jsx)("div",{className:"text-xs text-[#702459]",children:"少女粉"})]})})]})]})})]})}let k=(0,x.A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),S=()=>{let{wallet:e,walletAssets:t,isLoading:s,error:l,fetchWallet:n}=(0,u.vT)(),[d,c]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{n()},[n]),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 mb-4",children:[(0,r.jsx)("h2",{className:"text-lg font-medium",children:"资产余额"}),(0,r.jsxs)(i.$,{variant:"outline",className:"w-full md:w-auto flex items-center gap-2",onClick:()=>{try{n()}catch(e){console.error("Error refreshing wallet:",e)}},disabled:s,children:[(0,r.jsx)(k,{size:16,className:s?"animate-spin":""}),s?"刷新中...":"刷新余额"]})]}),s?(0,r.jsx)("div",{className:"text-center text-[var(--text-secondary)] py-4",children:"加载钱包余额中..."}):l?(0,r.jsxs)("div",{className:"text-center text-red-500 py-4",children:["加载钱包余额失败: ",l]}):null,!s&&!l&&e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center mb-4 text-sm text-[var(--text-secondary)]",children:[(0,r.jsxs)("span",{children:["钱包ID: ",e.id]}),(0,r.jsxs)(i.$,{variant:"ghost",size:"sm",className:"ml-2 h-6 px-2",onClick:()=>{e&&e.id&&(navigator.clipboard.writeText(e.id),c(!0),setTimeout(()=>c(!1),2e3))},title:"复制钱包ID",children:[(0,r.jsx)(g.DDb,{className:"h-4 w-4"}),d?(0,r.jsx)("span",{className:"text-xs ml-1",children:"已复制"}):null]})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 gap-4",children:t.length>0?t.map(e=>(0,r.jsxs)("div",{className:"bg-[var(--bg-tertiary)] p-4 rounded-lg",children:[(0,r.jsxs)("div",{className:"font-medium mb-2",children:["资产类型: ",e.code]}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-[var(--text-secondary)]",children:"可用余额"}),(0,r.jsx)("div",{className:"font-bold text-lg",children:e.balance})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-[var(--text-secondary)]",children:"冻结余额"}),(0,r.jsx)("div",{className:"font-bold text-lg",children:e.frozenBalance})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-[var(--text-secondary)]",children:"总余额"}),(0,r.jsx)("div",{className:"font-bold text-lg",children:e.totalBalance})]})]})]},e.assetTypeId)):(0,r.jsx)("div",{className:"text-center text-[var(--text-secondary)] py-4",children:"暂无资产"})})]}),!s&&!l&&!e&&(0,r.jsx)("div",{className:"text-center text-[var(--text-secondary)] py-4",children:"暂无钱包信息"})]})};function D(){let[e,t]=(0,a.useState)("资产余额");return(0,r.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-8",children:[(0,r.jsx)("div",{className:"w-full md:w-64 shrink-0",children:(0,r.jsxs)("div",{className:"bg-[var(--bg-secondary)] rounded-lg p-4",children:[(0,r.jsx)("h2",{className:"text-lg font-medium mb-4",children:"设置"}),(0,r.jsxs)("ul",{className:"space-y-1",children:[(0,r.jsx)("li",{children:(0,r.jsx)("button",{className:"w-full text-left px-4 py-2 rounded-md text-sm ".concat("资产余额"===e?"settings-tab-active":"settings-tab-inactive"),onClick:()=>t("资产余额"),children:"资产余额"})}),(0,r.jsx)("li",{children:(0,r.jsx)("button",{className:"w-full text-left px-4 py-2 rounded-md text-sm ".concat("账号"===e?"settings-tab-active":"settings-tab-inactive"),onClick:()=>t("账号"),children:"账号设置"})}),(0,r.jsx)("li",{children:(0,r.jsx)("button",{className:"w-full text-left px-4 py-2 rounded-md text-sm ".concat("密码"===e?"settings-tab-active":"settings-tab-inactive"),onClick:()=>t("密码"),children:"修改密码"})}),(0,r.jsx)("li",{children:(0,r.jsx)("button",{className:"w-full text-left px-4 py-2 rounded-md text-sm ".concat("通知"===e?"settings-tab-active":"settings-tab-inactive"),onClick:()=>t("通知"),children:"通知设置"})}),(0,r.jsx)("li",{children:(0,r.jsx)("button",{className:"w-full text-left px-4 py-2 rounded-md text-sm ".concat("隐私"===e?"settings-tab-active":"settings-tab-inactive"),onClick:()=>t("隐私"),children:"隐私设置"})}),(0,r.jsx)("li",{children:(0,r.jsx)("button",{className:"w-full text-left px-4 py-2 rounded-md text-sm ".concat("主题"===e?"settings-tab-active":"settings-tab-inactive"),onClick:()=>t("主题"),children:"界面与主题"})})]})]})}),(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsxs)("div",{className:"bg-[var(--bg-secondary)] rounded-lg p-6",children:["资产余额"===e&&(0,r.jsx)(S,{}),"账号"===e&&(0,r.jsx)(v,{}),"密码"===e&&(0,r.jsx)(p,{}),"通知"===e&&(0,r.jsx)(N,{}),"隐私"===e&&(0,r.jsx)(y,{}),"主题"===e&&(0,r.jsx)(C,{})]})})]})})}let R=(0,x.A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var A=s(7817);function E(){var e,t,s,l,n,d,c,o,x,m;let{commissionRecords:v,comprehensiveData:f,loading:j,error:g,generateCode:p,fetchCommissionRecords:b,fetchComprehensiveData:N,clearError:y}=(0,A.d)(),{user:w}=(0,u.Ir)(),C=(null==w||null==(e=w.roles)?void 0:e.some(e=>"agent"===e.name))||!1,[k,S]=(0,a.useState)(null);(0,a.useEffect)(()=>{N(),b(),y("getComprehensiveData"),y("getCommissionRecords"),y("generateCode")},[N,b,y]);let D=async()=>{if((null==f?void 0:f.invitationCodesStatistics)&&f.invitationCodesStatistics.length>=5)return void h.oR.error("您已创建5个邀请码，不能再创建更多");p({codeData:{customCode:void 0}}).unwrap().then(e=>{console.log("New code generated:",e),N(),b(),h.oR.success("邀请码创建成功")}).catch(e=>{var t,s,r;console.error("Failed to generate code:",e),(null==(s=e.data)||null==(t=s.message)?void 0:t.includes("cannot create more than 5"))?h.oR.error("您已创建5个邀请码，不能再创建更多"):h.oR.error("创建邀请码失败："+((null==(r=e.data)?void 0:r.message)||"未知错误"))})},E=e=>{navigator.clipboard.writeText(e)},I=(e,t,s)=>e?(0,r.jsxs)("div",{className:"text-center text-[var(--text-secondary)] py-4",children:["加载",s,"中..."]}):t?(0,r.jsxs)("div",{className:"text-center text-red-500 py-4",children:["加载",s,"失败: ",t]}):null;return(0,r.jsxs)("div",{className:"py-4 md:py-8 flex flex-col gap-6 md:gap-8 px-1 md:px-0",children:[(0,r.jsxs)("section",{className:"bg-[var(--bg-tertiary)] rounded-md p-4 md:p-6",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 mb-4",children:[(0,r.jsx)("div",{className:"text-lg font-bold",children:"邀请链接"}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-2",children:[(0,r.jsx)(i.$,{variant:"default",className:"w-full md:w-auto",onClick:()=>{C?(0,h.lJ)({title:"代理状态",text:"您已经是代理，不需要再申请了"}):(0,h.lJ)({title:"申请成为代理",text:"成为代理有更高的返点率并且可以提现收益，请和客服联系"})},children:C?"代理状态":"申请代理"}),(0,r.jsx)(i.$,{variant:"outline",className:"w-full md:w-auto md:max-w-xs",onClick:D,disabled:j.generateCode,children:j.generateCode?"生成中...":"生成邀请链接"})]})]}),g.generateCode&&(0,r.jsxs)("div",{className:"text-red-500 text-sm mb-2",children:["生成失败: ",g.generateCode]}),I(j.getCommissionRecords,g.getCommissionRecords,"邀请链接"),!j.getCommissionRecords&&!g.getCommissionRecords&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full text-sm min-w-[600px]",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"text-[var(--text-secondary)] border-b border-[var(--border-color)]",children:[(0,r.jsx)("th",{className:"py-2 text-left pl-2",children:"邀请码/链接"}),(0,r.jsx)("th",{className:"text-left",children:"创建时间"}),(0,r.jsx)("th",{className:"text-left",children:"使用人数"}),(0,r.jsx)("th",{className:"text-left",children:"总收益"})]})}),(0,r.jsx)("tbody",{children:(null==f?void 0:f.invitationCodesStatistics)&&f.invitationCodesStatistics.length>0?f.invitationCodesStatistics.map(e=>(0,r.jsxs)("tr",{className:"border-b border-[var(--border-color)]",children:[(0,r.jsxs)("td",{className:"py-2 pl-2 text-left",children:[(0,r.jsx)("span",{className:"mr-2 font-mono",children:e.code||"N/A"}),(0,r.jsxs)("div",{className:"relative inline-block",children:[(0,r.jsx)("button",{className:"inline-flex p-1 hover:bg-[var(--bg-hover)] rounded transition",onClick:()=>{E("".concat(window.location.origin,"/?ref=").concat(e.code)),S(e.code||""),setTimeout(()=>S(null),2e3)},title:"复制邀请链接",disabled:!1,children:(0,r.jsx)(R,{size:16,className:"text-[var(--text-secondary)]"})}),k===e.code&&(0,r.jsx)("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-1 text-xs bg-[var(--bg-secondary)] text-[var(--text-primary)] px-2 py-1 rounded shadow whitespace-nowrap",children:"已复制"})]})]}),(0,r.jsx)("td",{className:"text-left",children:e.createdAt?new Date(e.createdAt).toLocaleString():"N/A"}),(0,r.jsx)("td",{className:"text-left",children:e.totalInvitees||0}),(0,r.jsx)("td",{className:"text-left",children:e.totalProfit||0})]},e.code)):(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:4,className:"text-center py-4 text-[var(--text-secondary)]",children:j.getComprehensiveData||!f?"":"暂无邀请链接记录"})})})]})}),(0,r.jsx)("div",{className:"md:hidden",children:(null==f?void 0:f.invitationCodesStatistics)&&f.invitationCodesStatistics.length>0?f.invitationCodesStatistics.map(e=>(0,r.jsxs)("div",{className:"bg-[var(--bg-secondary)] p-4 rounded-lg mb-3",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,r.jsx)("div",{className:"font-mono font-medium",children:e.code||"N/A"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("button",{className:"p-1.5 hover:bg-[var(--bg-hover)] rounded transition",onClick:()=>{E("".concat(window.location.origin,"/?ref=").concat(e.code)),S(e.code||""),setTimeout(()=>S(null),2e3)},title:"复制邀请链接",disabled:!1,children:(0,r.jsx)(R,{size:18,className:"text-[var(--text-secondary)]"})}),k===e.code&&(0,r.jsx)("div",{className:"absolute top-full right-0 mt-1 text-xs bg-[var(--bg-secondary)] text-[var(--text-primary)] px-2 py-1 rounded shadow whitespace-nowrap z-10",children:"已复制"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-[var(--text-secondary)]",children:"创建时间"}),(0,r.jsx)("div",{children:e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-[var(--text-secondary)]",children:"使用人数"}),(0,r.jsx)("div",{children:e.totalInvitees||0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-[var(--text-secondary)]",children:"收益"}),(0,r.jsxs)("div",{children:["\xa5",e.totalProfit||0]})]})]})]},e.code)):(0,r.jsx)("div",{className:"text-center py-4 text-[var(--text-secondary)]",children:j.getComprehensiveData||!f?"":"暂无邀请链接记录"})})]})]}),(0,r.jsxs)("section",{className:"px-1 md:px-0",children:[(0,r.jsx)("div",{className:"text-lg md:text-xl font-bold mb-3",children:"数据统计"}),I(j.getComprehensiveData,g.getComprehensiveData,"数据统计"),!j.getComprehensiveData&&!g.getComprehensiveData&&f&&(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full border-collapse",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"text-[var(--text-secondary)] border-b border-[var(--border-color)]",children:[(0,r.jsx)("th",{className:"py-2 text-left"}),(0,r.jsx)("th",{className:"py-2 text-left",children:"已邀请"}),(0,r.jsx)("th",{className:"py-2 text-left",children:"充值用户"}),(0,r.jsx)("th",{className:"py-2 text-left",children:"转化率"}),(0,r.jsx)("th",{className:"py-2 text-left",children:"获得积分"}),C&&(0,r.jsx)("th",{className:"py-2 text-left",children:"可提现积分"})]})}),(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"py-3 text-base font-medium",children:"总数据"}),(0,r.jsx)("td",{className:"py-3 text-base md:text-lg font-bold",children:(null==(t=f.referralStatistics)?void 0:t.total)||0}),(0,r.jsx)("td",{className:"py-3 text-base md:text-lg font-bold",children:(null==(s=f.invitationEffectiveness)?void 0:s.activeInvitees)||0}),(0,r.jsx)("td",{className:"py-3 text-base md:text-lg font-bold",children:"".concat((null==(l=f.invitationEffectiveness)?void 0:l.conversionRate)||0,"%")}),(0,r.jsx)("td",{className:"py-3 text-base md:text-lg font-bold",children:f.totalAmount||"0"}),C&&(0,r.jsx)("td",{className:"py-3 text-base md:text-lg font-bold",children:(null==(n=f.invitationEffectiveness)?void 0:n.totalProfit)||"0"})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"py-3 text-base font-medium",children:"今日数据"}),(0,r.jsx)("td",{className:"py-3 text-base md:text-lg font-bold",children:(null==(d=f.invitationEffectiveness)?void 0:d.totalInvitees)||0}),(0,r.jsx)("td",{className:"py-3 text-base md:text-lg font-bold",children:(null==(c=f.invitationEffectiveness)?void 0:c.activeInvitees)||0}),(0,r.jsx)("td",{className:"py-3 text-base md:text-lg font-bold",children:"".concat((null==(o=f.invitationEffectiveness)?void 0:o.conversionRate)||0,"%")}),(0,r.jsx)("td",{className:"py-3 text-base md:text-lg font-bold",children:(null==(x=f.invitationEffectiveness)?void 0:x.totalProfit)||"0"}),C&&(0,r.jsx)("td",{className:"py-3 text-base md:text-lg font-bold",children:(null==(m=f.invitationEffectiveness)?void 0:m.averageProfit)||"0"})]})]})]})}),!j.getComprehensiveData&&!g.getComprehensiveData&&!f&&(0,r.jsx)("div",{className:"text-center text-[var(--text-secondary)] py-4",children:"暂无数据"})]}),(0,r.jsxs)("section",{className:"px-1 md:px-0",children:[(0,r.jsx)("div",{className:"text-lg md:text-xl font-bold mb-3",children:"好友统计"}),I(j.getComprehensiveData,g.getComprehensiveData,"好友统计"),!j.getComprehensiveData&&!g.getComprehensiveData&&(null==f?void 0:f.referralStatistics)&&(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full border-collapse",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"text-[var(--text-secondary)] border-b border-[var(--border-color)]",children:[(0,r.jsx)("th",{className:"py-2 text-left",children:"一级好友"}),(0,r.jsx)("th",{className:"py-2 text-left",children:"二级好友"}),(0,r.jsx)("th",{className:"py-2 text-left",children:"三级好友"}),(0,r.jsx)("th",{className:"py-2 text-left",children:"好友总数"})]})}),(0,r.jsx)("tbody",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"py-3 text-base md:text-lg font-bold",children:f.referralStatistics.level1||0}),(0,r.jsx)("td",{className:"py-3 text-base md:text-lg font-bold",children:f.referralStatistics.level2||0}),(0,r.jsx)("td",{className:"py-3 text-base md:text-lg font-bold",children:f.referralStatistics.level3||0}),(0,r.jsx)("td",{className:"py-3 text-base md:text-lg font-bold",children:f.referralStatistics.total||0})]})})]})}),!j.getComprehensiveData&&!g.getComprehensiveData&&(!f||!f.referralStatistics)&&(0,r.jsx)("div",{className:"text-center text-[var(--text-secondary)] py-4",children:"暂无下线统计数据"})]}),(0,r.jsxs)("section",{className:"bg-[var(--bg-tertiary)] rounded-md p-4 md:p-6",children:[(0,r.jsx)("div",{className:"text-lg font-bold mb-4",children:"详细记录"}),I(j.getCommissionRecords,g.getCommissionRecords,"详细记录"),!j.getCommissionRecords&&!g.getCommissionRecords&&v&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full text-sm min-w-[600px]",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"text-[var(--text-secondary)] border-b border-[var(--border-color)]",children:[(0,r.jsx)("th",{className:"py-2 text-left pl-2",children:"时间"}),(0,r.jsx)("th",{className:"text-left",children:"用户ID"}),(0,r.jsx)("th",{className:"text-left",children:"层级"}),(0,r.jsx)("th",{className:"text-left",children:"充值金额"}),(0,r.jsx)("th",{className:"text-left",children:"获得奖励"})]})}),(0,r.jsx)("tbody",{children:v.items&&v.items.length>0?v.items.map(e=>(0,r.jsxs)("tr",{className:"border-b border-[var(--border-color)]",children:[(0,r.jsx)("td",{className:"py-2 pl-2 text-left",children:e.createdAt?new Date(e.createdAt).toLocaleString():"N/A"}),(0,r.jsx)("td",{className:"text-left",children:e.userId||"N/A"}),(0,r.jsx)("td",{className:"text-left",children:e.level||1}),(0,r.jsxs)("td",{className:"text-left",children:["\xa5",e.amount||0]}),(0,r.jsx)("td",{className:"text-left",children:e.commission||0})]},e.id)):(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:5,className:"text-center py-4 text-[var(--text-secondary)]",children:j.getCommissionRecords||!v?"":"暂无详细记录"})})})]})}),(0,r.jsx)("div",{className:"md:hidden",children:v.items&&v.items.length>0?v.items.map(e=>(0,r.jsxs)("div",{className:"bg-[var(--bg-secondary)] p-4 rounded-lg mb-3",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,r.jsxs)("div",{className:"font-medium",children:["用户ID: ",e.userId||"N/A"]}),(0,r.jsx)("div",{className:"text-sm text-[var(--text-secondary)]",children:e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-[var(--text-secondary)]",children:"层级"}),(0,r.jsx)("div",{children:e.level||1})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-[var(--text-secondary)]",children:"充值金额"}),(0,r.jsxs)("div",{children:["\xa5",e.amount||0]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-[var(--text-secondary)]",children:"获得奖励"}),(0,r.jsx)("div",{children:e.commission||0})]})]})]},e.id)):(0,r.jsx)("div",{className:"text-center py-4 text-[var(--text-secondary)]",children:j.getCommissionRecords||!v?"":"暂无详细记录"})})]})]})]})}var I=s(2847),T=s(9687),M=s(5695),z=s(9434);function F(e){let{className:t,...s}=e;return(0,r.jsx)("div",{className:(0,z.cn)("animate-pulse rounded-md bg-muted",t),...s})}function L(){let e=(0,M.useRouter)(),t=(0,n.G)(d.xu),{favoriteCharacters:s,isLoading:l,error:i,fetchFavorites:c}=(0,I.Q$)();(0,a.useEffect)(()=>{(null==t?void 0:t.id)&&c(t.id,1,100)},[null==t?void 0:t.id,c]);let o=t=>{e.push("/character?id=".concat(t))};return l?(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 py-6",children:Array.from({length:4}).map((e,t)=>(0,r.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,r.jsx)(F,{className:"h-[125px] w-full rounded-xl bg-muted"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(F,{className:"h-4 w-[250px] bg-muted"}),(0,r.jsx)(F,{className:"h-4 w-[200px] bg-muted"})]})]},t))}):i?(0,r.jsxs)("div",{className:"text-destructive text-center py-10",children:["加载收藏角色失败: ",i]}):s&&0!==s.length?(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 py-6",children:s.map(e=>(0,r.jsx)(T.A,{character:e,onClick:o},e.id))}):(0,r.jsx)("div",{className:"text-muted-foreground text-center py-10",children:"你还没有收藏任何角色。"})}var P=s(9249),B=s(6168),U=s(3299);class V{async getActivities(){try{let e=await B.o.activities.getActivities({page:1,limit:50,status:void 0});if(!e.data.items)throw Error("Failed to get activities: Invalid response data");return console.log("获取到的活动数据:",e.data),e.data.items}catch(e){throw console.error("Failed to get activities:",e),e}}async getActivityDetails(e){try{let t=await B.o.activities.getActivityDetails(e);if(!t.data)throw Error("Failed to get activity details: Invalid response data");return t.data}catch(t){throw console.error("Failed to get activity details for ".concat(e.activityId,":"),t),t}}async getActivityHistory(e){try{let t=await B.o.activities.getActivityHistory(e);if(!t.data)throw Error("Failed to get activity history: Invalid response data");return t.data}catch(e){throw console.error("Failed to get activity history:",e),e}}}let H=new(V=(0,P.Cg)([U.A.Singleton],V));var O=s(6766);function G(e){try{return new Date(e).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).replace(/\//g,"-")}catch(t){return console.error("日期格式化错误:",t),e}}function $(e){let{activity:t}=e,s=t.metadata,a=null==s?void 0:s.bannerUrl;return(0,r.jsx)("div",{className:"bg-card rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow border border-border",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row",children:[a?(0,r.jsx)("div",{className:"relative h-[160px] md:h-auto md:w-1/3",children:(0,r.jsx)(O.default,{src:a,alt:t.name,fill:!0,style:{objectFit:"cover"}})}):(0,r.jsx)("div",{className:"h-[160px] md:h-auto md:w-1/3 bg-muted flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-muted-foreground",children:"无活动图片"})}),(0,r.jsxs)("div",{className:"p-4 md:w-2/3",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold",children:t.name}),(0,r.jsx)("span",{className:"text-sm font-medium ".concat(((e,t)=>{let s=new Date,r=new Date(t);if("ENDED"===e||r<s);else if("ONGOING"===e)return"text-green-500";else if("UPCOMING"===e)return"text-blue-500";return"text-gray-500"})(t.status,t.endTime)),children:((e,t)=>{let s=new Date,r=new Date(t);return"ENDED"===e||r<s?"已结束":"ONGOING"===e?"进行中":"UPCOMING"===e?"即将开始":"未知状态"})(t.status,t.endTime)})]}),t.description&&(0,r.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:t.description}),(0,r.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground",children:[(0,r.jsxs)("span",{children:["开始: ",G(t.startTime)]}),(0,r.jsxs)("span",{children:["结束: ",G(t.endTime)]})]}),t.rewards&&t.rewards.length>0&&(0,r.jsxs)("div",{className:"mt-3 pt-3 border-t border-border",children:[(0,r.jsx)("p",{className:"text-xs font-medium",children:"活动奖励:"}),(0,r.jsx)("div",{className:"mt-1 flex flex-wrap gap-2",children:t.rewards.map((e,t)=>(0,r.jsx)("span",{className:"inline-block px-2 py-1 rounded-full bg-muted text-xs",children:e.description||"奖励 ".concat(t+1)},t))})]})]})]})})}function W(){let[e,t]=(0,a.useState)([]),[s,l]=(0,a.useState)(!0),[i,n]=(0,a.useState)(null);if((0,a.useEffect)(()=>{(async()=>{try{l(!0);let e=await H.getActivities();Array.isArray(e)?t(e):(console.error("获取到的活动数据不是数组:",e),t([]),n("活动数据格式错误"))}catch(e){console.error("获取活动失败:",e),n("获取活动列表失败，请稍后再试"),t([])}finally{l(!1)}})()},[]),s)return(0,r.jsx)("div",{className:"space-y-6 py-6",children:Array.from({length:3}).map((e,t)=>(0,r.jsxs)("div",{className:"bg-card rounded-xl overflow-hidden border border-border",children:[(0,r.jsx)(F,{className:"h-[160px] w-full bg-muted"}),(0,r.jsxs)("div",{className:"p-4 space-y-2",children:[(0,r.jsx)(F,{className:"h-6 w-1/2 bg-muted"}),(0,r.jsx)(F,{className:"h-4 w-3/4 bg-muted"}),(0,r.jsx)(F,{className:"h-4 w-1/4 bg-muted"})]})]},t))});if(i)return(0,r.jsx)("div",{className:"text-destructive text-center py-10",children:i});if(!e||0===e.length)return(0,r.jsx)("div",{className:"text-muted-foreground text-center py-10",children:"暂无活动内容。"});let d=Array.isArray(e)?e:[];return(0,r.jsx)("div",{className:"space-y-6 py-6",children:d.map(e=>(0,r.jsx)($,{activity:e},e.id))})}function q(){let e=(0,n.G)(d.xu),[t,s]=(0,a.useState)(!1),[c,x]=(0,a.useState)("设置"),[m,h]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{s(!0)},[]),(0,r.jsxs)("main",{className:"min-h-screen bg-background text-foreground",children:[(0,r.jsxs)("div",{className:"relative pt-20",children:[(0,r.jsxs)("div",{className:"absolute top-0 left-0 w-full h-64 overflow-hidden z-0",children:[(0,r.jsx)("div",{className:"w-full h-full bg-gradient-to-r from-background/80 to-muted/80 opacity-70"}),(0,r.jsx)("div",{className:"absolute top-0 left-0 w-full h-full bg-background/30"})]}),(0,r.jsx)("div",{className:"relative z-10 max-w-6xl mx-auto px-4 py-6",children:t&&e?(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-end gap-6 mb-8",children:[(0,r.jsx)("div",{className:"w-24 h-24 bg-muted rounded-full border-4 border-background overflow-hidden",children:(0,r.jsxs)(o.eu,{className:"w-full h-full",children:[(0,r.jsx)(o.BK,{src:e.avatarUrl,alt:e.nickname||e.username,className:"object-cover"}),(0,r.jsx)(o.q5,{className:"bg-[var(--bg-tertiary)] text-[var(--text-primary)] text-3xl font-bold",children:e.username.charAt(0).toUpperCase()})]})}),(0,r.jsxs)("div",{className:"flex-grow",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold",children:e.nickname||e.username}),(0,r.jsxs)("div",{className:"flex items-center mt-1 text-sm text-muted-foreground",children:[(0,r.jsxs)("span",{children:["ID: ",e.id]}),(0,r.jsxs)("div",{className:"relative inline-block",children:[(0,r.jsx)(i.$,{variant:"ghost",size:"sm",className:"ml-2 h-6 px-2",onClick:()=>{e&&e.id&&(navigator.clipboard.writeText(e.id),h(!0),setTimeout(()=>h(!1),2e3))},title:"复制用户ID",children:(0,r.jsx)(g.DDb,{className:"h-4 w-4"})}),m&&(0,r.jsx)("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-1 text-xs bg-[var(--bg-secondary)] text-[var(--text-primary)] px-2 py-1 rounded shadow whitespace-nowrap",children:"已复制"})]})]}),(0,r.jsxs)("div",{className:"flex gap-6 mt-4",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-lg font-bold",children:"0"}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"粉丝"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-lg font-bold",children:"0"}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"关注"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-lg font-bold",children:"0"}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"获赞"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-lg font-bold",children:"0"}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"收藏"})]})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-8",children:[(0,r.jsxs)("div",{className:"bg-card p-4 rounded-md flex flex-col items-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 mb-2 flex items-center justify-center",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-yellow-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,r.jsx)("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})}),(0,r.jsx)("div",{className:"font-bold text-lg",children:"3000"}),(0,r.jsx)("div",{className:"text-xs text-muted-foreground",children:"硬度"})]}),(0,r.jsxs)("div",{className:"bg-card p-4 rounded-md flex flex-col items-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 mb-2 flex items-center justify-center",children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-muted-foreground",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,r.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),(0,r.jsx)("path",{d:"M7 7h10v10H7z"})]})}),(0,r.jsx)("div",{className:"font-bold text-lg",children:"0"}),(0,r.jsx)("div",{className:"text-xs text-muted-foreground",children:"卡券"})]}),(0,r.jsxs)("div",{className:"bg-card p-4 rounded-md flex flex-col items-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 mb-2 flex items-center justify-center",children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,r.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),(0,r.jsx)("path",{d:"M14 2v6h6"}),(0,r.jsx)("path",{d:"M16 13H8"}),(0,r.jsx)("path",{d:"M16 17H8"}),(0,r.jsx)("path",{d:"M10 9H8"})]})}),(0,r.jsx)("div",{className:"font-bold text-lg",children:"6"}),(0,r.jsx)("div",{className:"text-xs text-muted-foreground",children:"故事"})]}),(0,r.jsxs)("div",{className:"bg-card p-4 rounded-md flex flex-col items-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 mb-2 flex items-center justify-center",children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,r.jsx)("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),(0,r.jsx)("circle",{cx:"12",cy:"7",r:"4"})]})}),(0,r.jsx)("div",{className:"font-bold text-lg",children:"1"}),(0,r.jsx)("div",{className:"text-xs text-muted-foreground",children:"人设"})]}),(0,r.jsxs)("div",{className:"bg-card p-4 rounded-md flex flex-col items-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 mb-2 flex items-center justify-center",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-purple-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,r.jsx)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})})}),(0,r.jsx)("div",{className:"font-bold text-lg",children:"1"}),(0,r.jsx)("div",{className:"text-xs text-muted-foreground",children:"预设"})]}),(0,r.jsxs)("div",{className:"bg-card p-4 rounded-md flex flex-col items-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 mb-2 flex items-center justify-center",children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-red-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,r.jsx)("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),(0,r.jsx)("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]})}),(0,r.jsx)("div",{className:"font-bold text-lg",children:"0"}),(0,r.jsx)("div",{className:"text-xs text-muted-foreground",children:"世界书"})]})]}),(0,r.jsx)("div",{className:"border-b border-border",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("button",{className:"px-6 py-3 text-sm font-medium ".concat("设置"===c?"text-foreground border-b-2 border-primary":"text-muted-foreground hover:text-foreground"),onClick:()=>x("设置"),children:"设置"}),(0,r.jsx)("button",{className:"px-6 py-3 text-sm font-medium ".concat("邀请"===c?"text-foreground border-b-2 border-primary":"text-muted-foreground hover:text-foreground"),onClick:()=>x("邀请"),children:"邀请"}),(0,r.jsx)("button",{className:"px-6 py-3 text-sm font-medium ".concat("收藏"===c?"text-foreground border-b-2 border-primary":"text-muted-foreground hover:text-foreground"),onClick:()=>x("收藏"),children:"收藏"}),(0,r.jsx)("button",{className:"px-6 py-3 text-sm font-medium ".concat("活动"===c?"text-foreground border-b-2 border-primary":"text-muted-foreground hover:text-foreground"),onClick:()=>x("活动"),children:"活动"})]})}),(0,r.jsxs)("div",{className:"py-6",children:["设置"===c&&(0,r.jsx)(D,{}),"邀请"===c&&(0,r.jsx)(E,{}),"收藏"===c&&(0,r.jsx)(L,{}),"活动"===c&&(0,r.jsx)(W,{})]})]}):(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-end gap-6 mb-8",children:[(0,r.jsx)(F,{className:"w-24 h-24 rounded-full bg-muted"}),(0,r.jsxs)("div",{className:"flex-grow",children:[(0,r.jsx)(F,{className:"h-8 w-32 bg-muted rounded-md mb-4"}),(0,r.jsx)("div",{className:"flex gap-6 mt-4",children:(0,r.jsx)(F,{className:"h-10 w-16 bg-muted rounded-md"})})]}),(0,r.jsx)(F,{className:"w-24 h-10 bg-muted rounded-md"})]}),(0,r.jsx)("div",{className:"text-center py-20",children:(0,r.jsx)(F,{className:"h-6 w-32 bg-muted rounded-md mx-auto"})})]})})]}),(0,r.jsx)(l.default,{})]})}},2523:(e,t,s)=>{"use strict";s.d(t,{p:()=>i});var r=s(5155),a=s(2115),l=s(9434);let i=a.forwardRef((e,t)=>{let{className:s,type:a,...i}=e;return(0,r.jsx)("input",{type:a,className:(0,l.cn)("flex h-10 w-full rounded-md border bg-[var(--bg-tertiary)] border-[var(--border-color)] text-[var(--text-primary)] input-focus px-3 py-2 text-sm file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...i})});i.displayName="Input"},5651:(e,t,s)=>{Promise.resolve().then(s.bind(s,1960))},6821:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});var r=s(5155),a=s(6874),l=s.n(a),i=s(6766);function n(){return(0,r.jsx)("footer",{className:"bg-[var(--bg-primary)] text-[var(--text-primary)] py-16 px-4",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,r.jsxs)("div",{className:"col-span-1 md:col-span-1",children:[(0,r.jsx)(l(),{href:"/",className:"inline-block mb-4",children:(0,r.jsx)(i.default,{src:"https://ext.same-assets.com/715601384/683049629.png",alt:"QuackAI",width:120,height:30,className:"mb-4"})}),(0,r.jsx)("p",{className:"text-sm text-[var(--text-secondary)] mb-4",children:"基于酒馆(SillyTavern)的AI角色扮演平台，提供免搭建酒馆，同时提供轻享版角色互动"}),(0,r.jsx)("div",{className:"flex space-x-4",children:(0,r.jsx)(l(),{href:"https://discord.gg/RBDVwJdFh3",target:"_blank",rel:"noopener noreferrer",className:"text-[var(--text-primary)] hover:text-[var(--text-secondary)]",children:(0,r.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z"})})})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-bold text-lg mb-4",children:"产品"}),(0,r.jsxs)("ul",{className:"space-y-2",children:[(0,r.jsx)("li",{children:(0,r.jsx)(l(),{href:"#",className:"text-[var(--text-secondary)] hover:text-[var(--text-primary)]",children:"酒馆 | STUDIO"})}),(0,r.jsx)("li",{children:(0,r.jsx)(l(),{href:"#",className:"text-[var(--text-secondary)] hover:text-[var(--text-primary)]",children:"聊天 | CHAT"})}),(0,r.jsx)("li",{children:(0,r.jsx)(l(),{href:"#",className:"text-[var(--text-secondary)] hover:text-[var(--text-primary)]",children:"酒馆 | SILLYTAVERN"})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-bold text-lg mb-4",children:"资源"}),(0,r.jsxs)("ul",{className:"space-y-2",children:[(0,r.jsx)("li",{children:(0,r.jsx)(l(),{href:"#",className:"text-[var(--text-secondary)] hover:text-[var(--text-primary)]",children:"API KEY"})}),(0,r.jsx)("li",{children:(0,r.jsx)(l(),{href:"#",className:"text-[var(--text-secondary)] hover:text-[var(--text-primary)]",children:"使用说明"})}),(0,r.jsx)("li",{children:(0,r.jsx)(l(),{href:"#",className:"text-[var(--text-secondary)] hover:text-[var(--text-primary)]",children:"教程计划"})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-bold text-lg mb-4",children:"关于"}),(0,r.jsxs)("ul",{className:"space-y-2",children:[(0,r.jsx)("li",{children:(0,r.jsx)(l(),{href:"https://discord.gg/RBDVwJdFh3",target:"_blank",rel:"noopener noreferrer",className:"text-[var(--text-secondary)] hover:text-[var(--text-primary)]",children:"加入社区"})}),(0,r.jsx)("li",{children:(0,r.jsx)(l(),{href:"#",className:"text-[var(--text-secondary)] hover:text-[var(--text-primary)]",children:"在线地址"})}),(0,r.jsx)("li",{children:(0,r.jsx)(l(),{href:"#",className:"text-[var(--text-secondary)] hover:text-[var(--text-primary)]",children:"福利领取"})})]})]})]}),(0,r.jsx)("div",{className:"border-t border-[var(--border-color)] mt-12 pt-8 text-center text-sm text-[var(--text-secondary)]",children:(0,r.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," QuackAI. All rights reserved."]})})]})})}},7464:(e,t,s)=>{"use strict";s.d(t,{w1:()=>o,CA:()=>x,kZ:()=>m});var r=s(6439),a=s(9249),l=s(6168),i=s(3299);class n{async generateInvitationCode(e){try{return(await l.o.invitation.generateInvitationCode({generateCodeRequestDto:e})).data}catch(e){throw console.error("Failed to generate invitation code:",e),e}}async getCommissionRecords(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{return(await l.o.invitation.getCommissionRecords({page:e,limit:t,...s})).data}catch(e){throw console.error("Failed to get commission records:",e),e}}async getComprehensiveInviteData(){try{return(await l.o.invitation.getComprehensiveInviteData()).data}catch(e){throw console.error("Failed to get comprehensive invite data:",e),e}}}let d=new(n=(0,a.Cg)([i.A.Singleton],n)),c="invitation",o=(0,r.zD)("".concat(c,"/generateCode"),async(e,t)=>{let{rejectWithValue:s}=t;try{return await d.generateInvitationCode(e.codeData)}catch(e){return s(e instanceof Error?e.message:"Failed to generate invitation code")}}),x=(0,r.zD)("".concat(c,"/getCommissionRecords"),async(e,t)=>{let{rejectWithValue:s}=t;try{let t="object"==typeof e&&(null==e?void 0:e.page)?e.page:1,s="object"==typeof e&&(null==e?void 0:e.limit)?e.limit:10,r={type:"object"==typeof e&&(null==e?void 0:e.type)?e.type:void 0,startDate:"object"==typeof e&&(null==e?void 0:e.startDate)?e.startDate:void 0,endDate:"object"==typeof e&&(null==e?void 0:e.endDate)?e.endDate:void 0};return await d.getCommissionRecords(t,s,r)}catch(e){return s(e instanceof Error?e.message:"Failed to get commission records")}}),m=(0,r.zD)("".concat(c,"/getComprehensiveInviteData"),async(e,t)=>{let{rejectWithValue:s}=t;try{return await d.getComprehensiveInviteData()}catch(e){return s(e instanceof Error?e.message:"Failed to get comprehensive invite data")}})},7817:(e,t,s)=>{"use strict";s.d(t,{d:()=>d});var r=s(2115),a=s(2045),l=s(1183),i=s(7464),n=s(9751);let d=()=>{let e=(0,a.j)(),t=(0,a.G)(l.J1),s=(0,a.G)(l.E4),d=(0,a.G)(l.BV),c=(0,a.G)(l.Kp),o=(0,a.G)(l.In),x=(0,r.useCallback)(t=>e((0,i.w1)(t)),[e]),m=(0,r.useCallback)(t=>{e((0,i.CA)(t))},[e]);return{invitationCode:t,commissionRecords:s,comprehensiveData:d,loading:c,error:o,generateCode:x,fetchCommissionRecords:m,fetchComprehensiveData:(0,r.useCallback)(()=>{e((0,i.kZ)())},[e]),clearError:(0,r.useCallback)(t=>{e((0,n.f3)(t))},[e])}}},9687:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var r=s(5155),a=s(1394);function l(e){var t;let{character:s,onClick:l}=e;return(0,r.jsxs)("div",{className:"bg-transparent overflow-hidden cursor-pointer hover:transform hover:scale-[1.03] transition-all",onClick:()=>l(s.id),children:[(0,r.jsxs)("div",{className:"relative aspect-square mb-2",children:[(0,r.jsxs)(a.eu,{className:"w-full h-full rounded-md",children:[(0,r.jsx)(a.BK,{src:s.avatarUrl,alt:s.name,className:"object-cover",shouldBlur:s.shouldBlurAvatar}),(0,r.jsx)(a.q5,{className:"bg-[var(--bg-tertiary)] text-[var(--text-primary)]",children:s.name.charAt(0).toUpperCase()})]}),(0,r.jsx)("div",{className:"absolute bottom-2 left-2",children:(0,r.jsx)("span",{className:"bg-card/80 backdrop-blur-sm text-foreground px-3 py-1 rounded-full text-sm",children:s.categories&&s.categories.length>0?s.categories[0].name:"角色"})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-foreground text-lg font-medium mb-1",children:s.name}),(0,r.jsx)("p",{className:"text-muted-foreground text-sm line-clamp-2 mb-2",children:s.shortIntroduction}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{className:"flex items-center gap-1",children:(0,r.jsx)("span",{className:"text-muted-foreground text-xs",children:s.tags.join(", ")})}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-muted-foreground",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),(0,r.jsx)("span",{className:"text-muted-foreground text-xs",children:s.favoriteCount||0})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 24 24",stroke:"none",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),(0,r.jsx)("span",{className:"text-muted-foreground text-xs",children:(null==(t=s.ratingAvg)?void 0:t.toFixed(1))||0})]})]})]})]})]})}},9751:(e,t,s)=>{"use strict";s.d(t,{Ay:()=>c,f3:()=>d,uJ:()=>n});var r=s(6439),a=s(7464);let l={invitationCode:null,commissionRecords:null,comprehensiveData:null,loading:{generateCode:!1,getCommissionRecords:!1,getComprehensiveData:!1},error:{generateCode:null,getCommissionRecords:null,getComprehensiveData:null}},i=(0,r.Z0)({name:"invitation",initialState:l,reducers:{clearInvitationState:()=>l,clearInvitationError:(e,t)=>{e.error[t.payload]=null}},extraReducers:e=>{e.addCase(a.w1.pending,e=>{e.loading.generateCode=!0,e.error.generateCode=null}).addCase(a.w1.fulfilled,(e,t)=>{e.loading.generateCode=!1,e.invitationCode=t.payload}).addCase(a.w1.rejected,(e,t)=>{e.loading.generateCode=!1,e.error.generateCode=t.payload||"Unknown error"}),e.addCase(a.CA.pending,e=>{e.loading.getCommissionRecords=!0,e.error.getCommissionRecords=null}).addCase(a.CA.fulfilled,(e,t)=>{e.loading.getCommissionRecords=!1,e.commissionRecords=t.payload}).addCase(a.CA.rejected,(e,t)=>{e.loading.getCommissionRecords=!1,e.error.getCommissionRecords=t.payload||"Unknown error"}),e.addCase(a.kZ.pending,e=>{e.loading.getComprehensiveData=!0,e.error.getComprehensiveData=null}).addCase(a.kZ.fulfilled,(e,t)=>{e.loading.getComprehensiveData=!1,e.comprehensiveData=t.payload}).addCase(a.kZ.rejected,(e,t)=>{e.loading.getComprehensiveData=!1,e.error.getComprehensiveData=t.payload||"Unknown error"})}}),{clearInvitationState:n,clearInvitationError:d}=i.actions,c=i.reducer},9879:(e,t,s)=>{"use strict";s.d(t,{ThemeProvider:()=>b,D:()=>o});var r=s(5155),a=s(2115),l=(e,t,s,r,a,l,i,n)=>{let d=document.documentElement,c=["light","dark"];function o(t){var s;(Array.isArray(e)?e:[e]).forEach(e=>{let s="class"===e,r=s&&l?a.map(e=>l[e]||e):a;s?(d.classList.remove(...r),d.classList.add(l&&l[t]?l[t]:t)):d.setAttribute(e,t)}),s=t,n&&c.includes(s)&&(d.style.colorScheme=s)}if(r)o(r);else try{let e=localStorage.getItem(t)||s,r=i&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;o(r)}catch(e){}},i=["light","dark"],n="(prefers-color-scheme: dark)",d=a.createContext(void 0),c={setTheme:e=>{},themes:[]},o=()=>{var e;return null!=(e=a.useContext(d))?e:c},x=e=>a.useContext(d)?a.createElement(a.Fragment,null,e.children):a.createElement(h,{...e}),m=["light","dark"],h=e=>{let{forcedTheme:t,disableTransitionOnChange:s=!1,enableSystem:r=!0,enableColorScheme:l=!0,storageKey:c="theme",themes:o=m,defaultTheme:x=r?"system":"light",attribute:h="data-theme",value:g,children:p,nonce:b,scriptProps:N}=e,[y,w]=a.useState(()=>v(c,x)),[C,k]=a.useState(()=>"system"===y?j():y),S=g?Object.values(g):o,D=a.useCallback(e=>{let t=e;if(!t)return;"system"===e&&r&&(t=j());let a=g?g[t]:t,n=s?f(b):null,d=document.documentElement,c=e=>{"class"===e?(d.classList.remove(...S),a&&d.classList.add(a)):e.startsWith("data-")&&(a?d.setAttribute(e,a):d.removeAttribute(e))};if(Array.isArray(h)?h.forEach(c):c(h),l){let e=i.includes(x)?x:null,s=i.includes(t)?t:e;d.style.colorScheme=s}null==n||n()},[b]),R=a.useCallback(e=>{let t="function"==typeof e?e(y):e;w(t);try{localStorage.setItem(c,t)}catch(e){}},[y]),A=a.useCallback(e=>{k(j(e)),"system"===y&&r&&!t&&D("system")},[y,t]);a.useEffect(()=>{let e=window.matchMedia(n);return e.addListener(A),A(e),()=>e.removeListener(A)},[A]),a.useEffect(()=>{let e=e=>{e.key===c&&(e.newValue?w(e.newValue):R(x))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[R]),a.useEffect(()=>{D(null!=t?t:y)},[t,y]);let E=a.useMemo(()=>({theme:y,setTheme:R,forcedTheme:t,resolvedTheme:"system"===y?C:y,themes:r?[...o,"system"]:o,systemTheme:r?C:void 0}),[y,R,t,C,r,o]);return a.createElement(d.Provider,{value:E},a.createElement(u,{forcedTheme:t,storageKey:c,attribute:h,enableSystem:r,enableColorScheme:l,defaultTheme:x,value:g,themes:o,nonce:b,scriptProps:N}),p)},u=a.memo(e=>{let{forcedTheme:t,storageKey:s,attribute:r,enableSystem:i,enableColorScheme:n,defaultTheme:d,value:c,themes:o,nonce:x,scriptProps:m}=e,h=JSON.stringify([r,s,d,t,o,c,i,n]).slice(1,-1);return a.createElement("script",{...m,suppressHydrationWarning:!0,nonce:"",dangerouslySetInnerHTML:{__html:"(".concat(l.toString(),")(").concat(h,")")}})}),v=(e,t)=>{let s;try{s=localStorage.getItem(e)||void 0}catch(e){}return s||t},f=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},j=e=>(e||(e=window.matchMedia(n)),e.matches?"dark":"light"),g=s(8613);let p=["dark","light","pink","system"];function b(e){let{children:t}=e,{themeSetting:s,updateSettings:a}=(0,g.Qg)();return(0,r.jsx)(x,{attribute:"class",defaultTheme:"dark",enableSystem:!1,themes:p,children:(0,r.jsx)(N,{initialThemeSetting:s,updateSettings:a,children:t})})}function N(e){let{initialThemeSetting:t,updateSettings:s,children:l}=e,{setTheme:i,theme:n,resolvedTheme:d}=o(),[c,x]=(0,a.useState)(!1),[m,h]=(0,a.useState)(t);return(0,a.useEffect)(()=>{x(!0)},[]),(0,a.useEffect)(()=>{if(c&&t&&t!==d){let e=t;p.includes(e)||(console.warn('[ThemeProvider] Invalid initial theme "'.concat(e,'" from Redux, defaulting to dark.')),e="dark"),console.log("[ThemeProvider] Initial sync Redux (".concat(e,") -> next-themes.")),i(e)}},[c,t,d,i]),(0,a.useEffect)(()=>{c&&d&&d!==m&&p.includes(d)&&(console.log("[ThemeProvider] Sync next-themes (".concat(d,") -> Redux.")),s({theme:d}).then(e=>{e?h(d):console.error("[ThemeProvider] Failed to sync theme to Redux.")}))},[c,d,m,s,i]),(0,a.useEffect)(()=>{c&&t!==m&&(console.log("[ThemeProvider] Redux state changed externally to: ".concat(t,". Updating tracker.")),h(t))},[c,t,m,d,i]),(0,a.useEffect)(()=>{c&&console.log("[ThemeProvider] Current theme state:",{reduxTheme:m,nextThemesTheme:n,nextThemesResolved:d,bodyClass:document.body.className})},[c,m,n,d]),(0,r.jsx)(r.Fragment,{children:l})}}},e=>{var t=t=>e(e.s=t);e.O(0,[951,320,105,428,116,500,613,118,441,684,358],()=>t(5651)),_N_E=e.O()}]);