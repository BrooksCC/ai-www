(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{239:(e,t,s)=>{"use strict";s.d(t,{bL:()=>N,zi:()=>y});var r=s(2115),a=s(5185),l=s(6101),n=s(6081),i=s(5845),d=s(1275),c=s(3655),o=s(5155),m="Switch",[x,h]=(0,n.A)(m),[u,v]=x(m),f=r.forwardRef((e,t)=>{let{__scopeSwitch:s,name:n,checked:d,defaultChecked:x,required:h,disabled:v,value:f="on",onCheckedChange:g,form:j,...N}=e,[y,w]=r.useState(null),C=(0,l.s)(t,e=>w(e)),k=r.useRef(!1),R=!y||j||!!y.closest("form"),[D,S]=(0,i.i)({prop:d,defaultProp:null!=x&&x,onChange:g,caller:m});return(0,o.jsxs)(u,{scope:s,checked:D,disabled:v,children:[(0,o.jsx)(c.sG.button,{type:"button",role:"switch","aria-checked":D,"aria-required":h,"data-state":b(D),"data-disabled":v?"":void 0,disabled:v,value:f,...N,ref:C,onClick:(0,a.m)(e.onClick,e=>{S(e=>!e),R&&(k.current=e.isPropagationStopped(),k.current||e.stopPropagation())})}),R&&(0,o.jsx)(p,{control:y,bubbles:!k.current,name:n,value:f,checked:D,required:h,disabled:v,form:j,style:{transform:"translateX(-100%)"}})]})});f.displayName=m;var g="SwitchThumb",j=r.forwardRef((e,t)=>{let{__scopeSwitch:s,...r}=e,a=v(g,s);return(0,o.jsx)(c.sG.span,{"data-state":b(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});j.displayName=g;var p=r.forwardRef((e,t)=>{let{__scopeSwitch:s,control:a,checked:n,bubbles:i=!0,...c}=e,m=r.useRef(null),x=(0,l.s)(m,t),h=function(e){let t=r.useRef({value:e,previous:e});return r.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(n),u=(0,d.X)(a);return r.useEffect(()=>{let e=m.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(h!==n&&t){let s=new Event("click",{bubbles:i});t.call(e,n),e.dispatchEvent(s)}},[h,n,i]),(0,o.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...c,tabIndex:-1,ref:x,style:{...c.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function b(e){return e?"checked":"unchecked"}p.displayName="SwitchBubbleInput";var N=f,y=j},285:(e,t,s)=>{"use strict";s.d(t,{$:()=>c});var r=s(5155),a=s(2115),l=s(9708),n=s(2085),i=s(9434);let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-[var(--bg-secondary)] border border-[var(--border-color)] hover:bg-[var(--bg-tertiary)]",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive",outline:"bg-[var(--bg-secondary)] border border-[var(--border-color)] hover:bg-[var(--bg-tertiary)]",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:s,variant:a,size:n,asChild:c=!1,...o}=e,m=c?l.DX:"button";return(0,r.jsx)(m,{className:(0,i.cn)(d({variant:a,size:n,className:s})),ref:t,...o})});c.displayName="Button"},333:(e,t,s)=>{"use strict";s.d(t,{d:()=>i});var r=s(5155),a=s(2115),l=s(239),n=s(9434);let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.bL,{className:(0,n.cn)("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-[var(--switch-checked-bg)] data-[state=unchecked]:bg-[var(--switch-unchecked-bg)]",s),...a,ref:t,children:(0,r.jsx)(l.zi,{className:(0,n.cn)("pointer-events-none block h-4 w-4 rounded-full bg-[var(--switch-thumb-bg)] shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})})});i.displayName=l.bL.displayName},1183:(e,t,s)=>{"use strict";s.d(t,{BV:()=>i,E4:()=>n,In:()=>c,J1:()=>l,Kp:()=>d});var r=s(8924);let a=e=>e.invitation,l=(0,r.Mz)([a],e=>e.invitationCode),n=(0,r.Mz)([a],e=>e.commissionRecords),i=(0,r.Mz)([a],e=>e.comprehensiveData),d=(0,r.Mz)([a],e=>e.loading),c=(0,r.Mz)([a],e=>e.error);(0,r.Mz)([d],e=>e.generateCode),(0,r.Mz)([d],e=>e.getComprehensiveData),(0,r.Mz)([d],e=>e.getCommissionRecords),(0,r.Mz)([c],e=>e.generateCode),(0,r.Mz)([c],e=>e.getComprehensiveData),(0,r.Mz)([c],e=>e.getCommissionRecords)},1394:(e,t,s)=>{"use strict";s.d(t,{BK:()=>c,bg:()=>d,eu:()=>i,q5:()=>o,xK:()=>m});var r=s(5155),a=s(2115),l=s(4011),n=s(9434);let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.bL,{ref:t,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...a})});i.displayName=l.bL.displayName;let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.bL,{ref:t,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-lg",s),...a})});d.displayName="SquareAvatar";let c=a.forwardRef((e,t)=>{let{className:s,shouldBlur:a,...i}=e;return(0,r.jsx)(l._V,{ref:t,className:(0,n.cn)("aspect-square h-full w-full",a&&"blur-md",s),...i})});c.displayName=l._V.displayName;let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.H4,{ref:t,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...a})});o.displayName=l.H4.displayName;let m=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.H4,{ref:t,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-lg bg-muted",s),...a})});m.displayName="SquareAvatarFallback"},2523:(e,t,s)=>{"use strict";s.d(t,{p:()=>n});var r=s(5155),a=s(2115),l=s(9434);let n=a.forwardRef((e,t)=>{let{className:s,type:a,...n}=e;return(0,r.jsx)("input",{type:a,className:(0,l.cn)("flex h-10 w-full rounded-md border bg-[var(--bg-tertiary)] border-[var(--border-color)] text-[var(--text-primary)] input-focus px-3 py-2 text-sm file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...n})});n.displayName="Input"},5273:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>F});var r=s(5155),a=s(2115),l=s(6821),n=s(285),i=s(2045),d=s(1795),c=s(2523),o=s(1394),m=s(157);let x=(0,m.A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var h=s(7374),u=s(8613);function v(){var e,t,s;let{user:l,updateProfile:i,uploadAvatar:d}=(0,u.Ir)(),[m,v]=(0,a.useState)(""),[f,g]=(0,a.useState)(""),[j,p]=(0,a.useState)(!1),[b,N]=(0,a.useState)(null),y=(0,a.useRef)(null);(0,a.useEffect)(()=>{l&&(v(l.nickname||l.username||""),g(l.email||""),N(null))},[l]);let w=async e=>{e.preventDefault();try{await i({nickname:m})?h.oR.success("账号设置已保存"):h.oR.error("保存失败，请稍后重试")}catch(e){h.oR.error("保存失败，请稍后重试"),console.error("Failed to update user profile:",e)}},C=async e=>{e.preventDefault();let t=e.target.files;if(!t||0===t.length)return;let s=t[0];if(!s.type.startsWith("image/")||s.size>5242880)return;let r=URL.createObjectURL(s);N(r),p(!0);try{if(await d(s))N(null);else throw Error("上传失败")}catch(e){console.error("上传头像失败:",e),N(null)}finally{p(!1),y.current&&(y.current.value=""),URL.revokeObjectURL(r)}},k=b||(null==l?void 0:l.avatarUrl),R=(null==l?void 0:l.nickname)||(null==l?void 0:l.username)||"",D=(null==l||null==(t=l.email)||null==(e=t.charAt(0))?void 0:e.toUpperCase())||"U",S=(null==(s=R.charAt(0))?void 0:s.toUpperCase())||D;return(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-medium mb-6",children:"账号设置"}),(0,r.jsx)("form",{onSubmit:w,children:(0,r.jsxs)("div",{className:"space-y-5",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-[var(--text-secondary)] mb-1",children:"用户名"}),(0,r.jsx)(c.p,{id:"username",value:m,onChange:e=>v(e.target.value),placeholder:"输入用户名"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-[var(--text-secondary)] mb-1",children:"邮箱"}),(0,r.jsx)(c.p,{id:"email",type:"email",value:f,onChange:e=>g(e.target.value),placeholder:"用户邮箱",disabled:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"avatar",className:"block text-sm font-medium text-[var(--text-secondary)] mb-1",children:"头像"}),(0,r.jsxs)("div",{className:"bg-[var(--bg-tertiary)] border border-[var(--border-color)] rounded-md p-6 text-center",children:[(0,r.jsx)("div",{className:"mb-4",children:j?(0,r.jsx)("div",{className:"w-20 h-20 rounded-full bg-[var(--bg-secondary)] mx-auto flex items-center justify-center",children:(0,r.jsx)(x,{className:"w-8 h-8 animate-spin text-[var(--text-secondary)]"})}):k?(0,r.jsxs)(o.eu,{className:"w-20 h-20 mx-auto",children:[(0,r.jsx)(o.BK,{src:k,alt:R||"用户头像"}),(0,r.jsx)(o.q5,{className:"bg-[var(--bg-secondary)] text-2xl font-bold",children:S})]}):(0,r.jsx)("div",{className:"w-20 h-20 rounded-full bg-[var(--bg-secondary)] mx-auto flex items-center justify-center text-2xl font-bold",children:S})}),(0,r.jsx)(n.$,{type:"button",variant:"outline",size:"sm",onClick:e=>{e.preventDefault(),e.stopPropagation(),y.current&&y.current.click()},disabled:j,children:j?"上传中...":"上传新头像"})]})]}),(0,r.jsx)("div",{className:"pt-4",children:(0,r.jsx)(n.$,{type:"submit",children:"保存更改"})})]})}),(0,r.jsx)("input",{type:"file",ref:y,onChange:C,accept:"image/*",className:"hidden"})]})}function f(){let[e,t]=(0,a.useState)(""),[s,l]=(0,a.useState)(""),[i,d]=(0,a.useState)(""),[o,m]=(0,a.useState)("");return(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-medium mb-6",children:"修改密码"}),(0,r.jsx)("form",{onSubmit:r=>(r.preventDefault(),m(""),e)?s.length<6?void m("新密码长度至少需要6个字符"):s!==i?void m("两次输入的密码不一致"):void h.oR.promise(new Promise(e=>setTimeout(()=>e(),800)),{loading:"更新中...",success:"密码已成功更新",error:"密码更新失败"}).then(()=>{t(""),l(""),d("")}):void m("请输入当前密码"),children:(0,r.jsxs)("div",{className:"space-y-5",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"current-password",className:"block text-sm font-medium text-[var(--text-secondary)] mb-1",children:"当前密码"}),(0,r.jsx)(c.p,{id:"current-password",type:"password",value:e,onChange:e=>t(e.target.value),className:"bg-[var(--bg-tertiary)] border-[var(--border-color)] text-[var(--text-primary)] input-focus",placeholder:"输入当前密码"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"new-password",className:"block text-sm font-medium text-[var(--text-secondary)] mb-1",children:"新密码"}),(0,r.jsx)(c.p,{id:"new-password",type:"password",value:s,onChange:e=>l(e.target.value),className:"bg-[var(--bg-tertiary)] border-[var(--border-color)] text-[var(--text-primary)] input-focus",placeholder:"输入新密码"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-[var(--text-secondary)] mb-1",children:"确认新密码"}),(0,r.jsx)(c.p,{id:"confirm-password",type:"password",value:i,onChange:e=>d(e.target.value),className:"bg-[var(--bg-tertiary)] border-[var(--border-color)] text-[var(--text-primary)] input-focus",placeholder:"再次输入新密码"})]}),o&&(0,r.jsx)("div",{className:"rounded-md p-3 bg-[var(--error-bg)] border border-[var(--error-border)] text-[var(--error-text)] text-sm",children:o}),(0,r.jsx)("div",{className:"pt-4",children:(0,r.jsx)(n.$,{type:"submit",children:"更新密码"})})]})})]})}var g=s(333);function j(){let{notificationSettings:e,updateSettings:t}=(0,u.Ir)(),s=(s,r)=>{t({notifications:{...e,[s]:r}}).then(e=>{e?h.oR.success("通知设置已更新"):h.oR.error("更新失败")}).catch(()=>h.oR.error("更新失败"))};return e?(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-medium mb-6",children:"通知设置"}),(0,r.jsxs)("div",{className:"space-y-5",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium",children:"电子邮件通知"}),(0,r.jsx)("p",{className:"text-sm text-[var(--text-secondary)]",children:"接收重要更新和通知到您的邮箱"})]}),(0,r.jsx)(g.d,{checked:e.email,onCheckedChange:e=>s("email",e)})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium",children:"推送通知"}),(0,r.jsx)("p",{className:"text-sm text-[var(--text-secondary)]",children:"在使用应用时接收实时通知"})]}),(0,r.jsx)(g.d,{checked:e.push,onCheckedChange:e=>s("push",e)})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium",children:"产品更新"}),(0,r.jsx)("p",{className:"text-sm text-[var(--text-secondary)]",children:"接收产品新功能和更新通知"})]}),(0,r.jsx)(g.d,{checked:e.updates,onCheckedChange:e=>s("updates",e)})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium",children:"营销邮件"}),(0,r.jsx)("p",{className:"text-sm text-[var(--text-secondary)]",children:"接收促销和市场活动信息"})]}),(0,r.jsx)(g.d,{checked:e.marketing,onCheckedChange:e=>s("marketing",e)})]})]})]}):null}function p(){let{privacySettings:e,updateSettings:t}=(0,u.Ir)(),s=(s,r)=>{t({privacy:{...e,[s]:r}}).then(e=>{e?h.oR.success("隐私设置已更新"):h.oR.error("更新失败")}).catch(()=>h.oR.error("更新失败"))};return e?(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-medium mb-6",children:"隐私设置"}),(0,r.jsxs)("div",{className:"space-y-5",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium",children:"个人资料可见性"}),(0,r.jsx)("p",{className:"text-sm text-[var(--text-secondary)]",children:"设置谁可以查看您的个人资料"})]}),(0,r.jsx)(g.d,{checked:e.profileVisible,onCheckedChange:e=>s("profileVisible",e)})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium",children:"内容可见性"}),(0,r.jsx)("p",{className:"text-sm text-[var(--text-secondary)]",children:"设置谁可以查看您的内容"})]}),(0,r.jsx)(g.d,{checked:e.contentVisible,onCheckedChange:e=>s("contentVisible",e)})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium",children:"活动可见性"}),(0,r.jsx)("p",{className:"text-sm text-[var(--text-secondary)]",children:"设置谁可以查看您的活动状态"})]}),(0,r.jsx)(g.d,{checked:e.activityVisible,onCheckedChange:e=>s("activityVisible",e)})]})]})]}):null}var b=s(9879);function N(){let{themeSetting:e,updateSettings:t}=(0,u.Ir)(),{setTheme:s}=(0,b.D)(),l=(0,a.useCallback)(r=>{console.log("[ThemeSettings] 用户选择新主题:",r),s(r),t({theme:r}).then(t=>{t?(h.oR.success("主题已应用"),console.log("[ThemeSettings] 主题设置保存成功:",r)):(s(e),h.oR.error("应用失败"),console.error("[ThemeSettings] 主题设置保存失败"))}).catch(t=>{s(e),h.oR.error("应用失败"),console.error("[ThemeSettings] 主题设置保存错误:",t)})},[t,e,s]);return(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-medium mb-6",children:"界面与主题"}),(0,r.jsx)("div",{className:"space-y-5",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-[var(--text-secondary)] mb-3",children:"主题选择"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,r.jsx)("div",{className:"bg-[#16162d] aspect-video rounded-lg p-3 flex items-center justify-center cursor-pointer border-2 theme-card ".concat("dark"===e?"border-blue-500":"border-transparent hover:border-gray-500"),onClick:()=>l("dark"),children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"bg-[#252644] w-full h-3 rounded mb-2"}),(0,r.jsx)("div",{className:"bg-[#1a1b33] w-full h-12 rounded mb-2"}),(0,r.jsx)("div",{className:"text-xs text-white",children:"深色"})]})}),(0,r.jsx)("div",{className:"bg-[#f8fafc] aspect-video rounded-lg p-3 flex items-center justify-center cursor-pointer border-2 theme-card ".concat("light"===e?"border-blue-500":"border-transparent hover:border-gray-500"),onClick:()=>l("light"),children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"bg-[#e2e8f0] w-full h-3 rounded mb-2"}),(0,r.jsx)("div",{className:"bg-white w-full h-12 rounded mb-2"}),(0,r.jsx)("div",{className:"text-xs text-gray-700",children:"浅色"})]})}),(0,r.jsx)("div",{className:"bg-[#fff0f6] aspect-video rounded-lg p-3 flex items-center justify-center cursor-pointer border-2 theme-card ".concat("pink"===e?"border-pink-500":"border-transparent hover:border-pink-300"),onClick:()=>l("pink"),children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"bg-[#ffdeeb] w-full h-3 rounded mb-2"}),(0,r.jsx)("div",{className:"bg-[#fff5f7] w-full h-12 rounded mb-2"}),(0,r.jsx)("div",{className:"text-xs text-[#702459]",children:"少女粉"})]})})]})]})})]})}function y(){let[e,t]=(0,a.useState)("账号");return(0,r.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-8",children:[(0,r.jsx)("div",{className:"w-full md:w-64 shrink-0",children:(0,r.jsxs)("div",{className:"bg-[var(--bg-secondary)] rounded-lg p-4",children:[(0,r.jsx)("h2",{className:"text-lg font-medium mb-4",children:"设置"}),(0,r.jsxs)("ul",{className:"space-y-1",children:[(0,r.jsx)("li",{children:(0,r.jsx)("button",{className:"w-full text-left px-4 py-2 rounded-md text-sm ".concat("账号"===e?"settings-tab-active":"settings-tab-inactive"),onClick:()=>t("账号"),children:"账号设置"})}),(0,r.jsx)("li",{children:(0,r.jsx)("button",{className:"w-full text-left px-4 py-2 rounded-md text-sm ".concat("密码"===e?"settings-tab-active":"settings-tab-inactive"),onClick:()=>t("密码"),children:"修改密码"})}),(0,r.jsx)("li",{children:(0,r.jsx)("button",{className:"w-full text-left px-4 py-2 rounded-md text-sm ".concat("通知"===e?"settings-tab-active":"settings-tab-inactive"),onClick:()=>t("通知"),children:"通知设置"})}),(0,r.jsx)("li",{children:(0,r.jsx)("button",{className:"w-full text-left px-4 py-2 rounded-md text-sm ".concat("隐私"===e?"settings-tab-active":"settings-tab-inactive"),onClick:()=>t("隐私"),children:"隐私设置"})}),(0,r.jsx)("li",{children:(0,r.jsx)("button",{className:"w-full text-left px-4 py-2 rounded-md text-sm ".concat("主题"===e?"settings-tab-active":"settings-tab-inactive"),onClick:()=>t("主题"),children:"界面与主题"})})]})]})}),(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsxs)("div",{className:"bg-[var(--bg-secondary)] rounded-lg p-6",children:["账号"===e&&(0,r.jsx)(v,{}),"密码"===e&&(0,r.jsx)(f,{}),"通知"===e&&(0,r.jsx)(j,{}),"隐私"===e&&(0,r.jsx)(p,{}),"主题"===e&&(0,r.jsx)(N,{})]})})]})})}let w=(0,m.A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var C=s(7817);function k(){var e,t,s,l,i,d,c,o,m;let{commissionRecords:x,comprehensiveData:h,loading:u,error:v,generateCode:f,fetchCommissionRecords:g,fetchComprehensiveData:j,clearError:p}=(0,C.d)(),[b,N]=(0,a.useState)("");(0,a.useEffect)(()=>{j(),g(),p("getComprehensiveData"),p("getCommissionRecords"),p("generateCode")},[j,g,p]);let y=async()=>{f({codeData:{customCode:void 0}}).unwrap().then(e=>{console.log("New code generated:",e),j(),g()}).catch(e=>{console.error("Failed to generate code:",e)})},k=e=>{navigator.clipboard.writeText(e).then(()=>{N("已复制！"),setTimeout(()=>N(""),1500)})},D=(e,t,s)=>e?(0,r.jsxs)("div",{className:"text-center text-[var(--text-secondary)] py-4",children:["加载",s,"中..."]}):t?(0,r.jsxs)("div",{className:"text-center text-red-500 py-4",children:["加载",s,"失败: ",t]}):null;return(0,r.jsxs)("div",{className:"py-4 md:py-8 flex flex-col gap-6 md:gap-8 px-1 md:px-0",children:[(0,r.jsxs)("section",{className:"bg-[var(--bg-tertiary)] rounded-md p-4 md:p-6",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 mb-4",children:[(0,r.jsx)("div",{className:"text-lg font-bold",children:"邀请链接"}),(0,r.jsx)(n.$,{variant:"outline",className:"w-full md:w-auto md:max-w-xs",onClick:y,disabled:u.generateCode,children:u.generateCode?"生成中...":"生成邀请链接"})]}),v.generateCode&&(0,r.jsxs)("div",{className:"text-red-500 text-sm mb-2",children:["生成失败: ",v.generateCode]}),D(u.getCommissionRecords,v.getCommissionRecords,"邀请链接"),!u.getCommissionRecords&&!v.getCommissionRecords&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full text-sm min-w-[600px]",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"text-[var(--text-secondary)] border-b border-[var(--border-color)]",children:[(0,r.jsx)("th",{className:"py-2 text-left pl-2",children:"邀请码/链接"}),(0,r.jsx)("th",{className:"text-left",children:"创建时间"}),(0,r.jsx)("th",{className:"text-left",children:"使用人数"}),(0,r.jsx)("th",{className:"text-left",children:"带来充值"})]})}),(0,r.jsx)("tbody",{children:(null==h?void 0:h.invitationCodesStatistics)&&h.invitationCodesStatistics.length>0?h.invitationCodesStatistics.map(e=>(0,r.jsxs)("tr",{className:"border-b border-[var(--border-color)]",children:[(0,r.jsxs)("td",{className:"py-2 pl-2 text-left",children:[(0,r.jsx)("span",{className:"mr-2 font-mono",children:e.code||"N/A"}),(0,r.jsx)("button",{className:"inline-flex p-1 hover:bg-[var(--bg-hover)] rounded transition",onClick:()=>k("".concat(window.location.origin,"/?ref=").concat(e.code)),title:"复制邀请链接",disabled:!1,children:(0,r.jsx)(w,{size:16,className:"text-[var(--text-secondary)]"})})]}),(0,r.jsx)("td",{className:"text-left",children:e.createdAt?new Date(e.createdAt).toLocaleString():"N/A"}),(0,r.jsx)("td",{className:"text-left",children:e.totalInvitees||0}),(0,r.jsxs)("td",{className:"text-left",children:["\xa5",e.totalDeposit||0]})]},e.code)):(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:4,className:"text-center py-4 text-[var(--text-secondary)]",children:u.getComprehensiveData||!h?"":"暂无邀请链接记录"})})})]})}),(0,r.jsx)("div",{className:"md:hidden",children:(null==h?void 0:h.invitationCodesStatistics)&&h.invitationCodesStatistics.length>0?h.invitationCodesStatistics.map(e=>(0,r.jsxs)("div",{className:"bg-[var(--bg-secondary)] p-4 rounded-lg mb-3",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,r.jsx)("div",{className:"font-mono font-medium",children:e.code||"N/A"}),(0,r.jsx)("button",{className:"p-1.5 hover:bg-[var(--bg-hover)] rounded transition",onClick:()=>k("".concat(window.location.origin,"/?ref=").concat(e.code)),title:"复制邀请链接",disabled:!1,children:(0,r.jsx)(w,{size:18,className:"text-[var(--text-secondary)]"})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-[var(--text-secondary)]",children:"创建时间"}),(0,r.jsx)("div",{children:e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-[var(--text-secondary)]",children:"使用人数"}),(0,r.jsx)("div",{children:e.totalInvitees||0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-[var(--text-secondary)]",children:"带来充值"}),(0,r.jsxs)("div",{children:["\xa5",e.totalDeposit||0]})]})]})]},e.code)):(0,r.jsx)("div",{className:"text-center py-4 text-[var(--text-secondary)]",children:u.getComprehensiveData||!h?"":"暂无邀请链接记录"})})]}),b&&(0,r.jsx)("div",{className:"fixed z-50 left-1/2 bottom-12 -translate-x-1/2 bg-[var(--toast-bg)] text-[var(--toast-text)] rounded px-4 py-2 shadow",children:b})]}),(0,r.jsxs)("section",{className:"px-1 md:px-0",children:[(0,r.jsx)("div",{className:"text-lg md:text-xl font-bold mb-3",children:"总数据"}),D(u.getComprehensiveData,v.getComprehensiveData,"总数据"),!u.getComprehensiveData&&!v.getComprehensiveData&&h&&(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 md:gap-4",children:[(0,r.jsx)(R,{label:"已邀请",value:(null==(e=h.referralStatistics)?void 0:e.total)||0}),(0,r.jsx)(R,{label:"充值用户",value:(null==(t=h.invitationEffectiveness)?void 0:t.activeInvitees)||0}),(0,r.jsx)(R,{label:"转化率",value:"".concat((null==(s=h.invitationEffectiveness)?void 0:s.conversionRate)||0,"%")}),(0,r.jsx)(R,{label:"获得总积分",value:h.totalAmount||"0"}),(0,r.jsx)(R,{label:"可提现积分",value:(null==(l=h.invitationEffectiveness)?void 0:l.totalDeposit)||"0"})]}),!u.getComprehensiveData&&!v.getComprehensiveData&&!h&&(0,r.jsx)("div",{className:"text-center text-[var(--text-secondary)] py-4",children:"暂无总数据"})]}),(0,r.jsxs)("section",{className:"px-1 md:px-0",children:[(0,r.jsx)("div",{className:"text-lg md:text-xl font-bold mb-3",children:"今日数据"}),D(u.getComprehensiveData,v.getComprehensiveData,"今日数据"),!u.getComprehensiveData&&!v.getComprehensiveData&&h&&(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 md:gap-4",children:[(0,r.jsx)(R,{label:"今日已邀请",value:(null==(i=h.invitationEffectiveness)?void 0:i.totalInvitees)||0}),(0,r.jsx)(R,{label:"今日充值用户",value:(null==(d=h.invitationEffectiveness)?void 0:d.activeInvitees)||0}),(0,r.jsx)(R,{label:"转化率",value:"".concat((null==(c=h.invitationEffectiveness)?void 0:c.conversionRate)||0,"%")}),(0,r.jsx)(R,{label:"今日获得积分",value:(null==(o=h.invitationEffectiveness)?void 0:o.totalDeposit)||"0"}),(0,r.jsx)(R,{label:"今日可提现",value:(null==(m=h.invitationEffectiveness)?void 0:m.averageDeposit)||"0"})]}),!u.getComprehensiveData&&!v.getComprehensiveData&&!h&&(0,r.jsx)("div",{className:"text-center text-[var(--text-secondary)] py-4",children:"暂无今日数据"})]}),(0,r.jsxs)("section",{className:"bg-[var(--bg-tertiary)] rounded-md p-4 md:p-6",children:[(0,r.jsx)("div",{className:"text-lg font-bold mb-4",children:"详细记录"}),D(u.getCommissionRecords,v.getCommissionRecords,"详细记录"),!u.getCommissionRecords&&!v.getCommissionRecords&&x&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full text-sm min-w-[600px]",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"text-[var(--text-secondary)] border-b border-[var(--border-color)]",children:[(0,r.jsx)("th",{className:"py-2 text-left pl-2",children:"时间"}),(0,r.jsx)("th",{className:"text-left",children:"用户ID"}),(0,r.jsx)("th",{className:"text-left",children:"层级"}),(0,r.jsx)("th",{className:"text-left",children:"充值金额"}),(0,r.jsx)("th",{className:"text-left",children:"获得奖励"})]})}),(0,r.jsx)("tbody",{children:x.items&&x.items.length>0?x.items.map(e=>(0,r.jsxs)("tr",{className:"border-b border-[var(--border-color)]",children:[(0,r.jsx)("td",{className:"py-2 pl-2 text-left",children:e.createdAt?new Date(e.createdAt).toLocaleString():"N/A"}),(0,r.jsx)("td",{className:"text-left",children:e.userId||"N/A"}),(0,r.jsx)("td",{className:"text-left",children:e.level||1}),(0,r.jsxs)("td",{className:"text-left",children:["\xa5",e.amount||0]}),(0,r.jsx)("td",{className:"text-left",children:e.commission||0})]},e.id)):(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:5,className:"text-center py-4 text-[var(--text-secondary)]",children:u.getCommissionRecords||!x?"":"暂无详细记录"})})})]})}),(0,r.jsx)("div",{className:"md:hidden",children:x.items&&x.items.length>0?x.items.map(e=>(0,r.jsxs)("div",{className:"bg-[var(--bg-secondary)] p-4 rounded-lg mb-3",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,r.jsxs)("div",{className:"font-medium",children:["用户ID: ",e.userId||"N/A"]}),(0,r.jsx)("div",{className:"text-sm text-[var(--text-secondary)]",children:e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-[var(--text-secondary)]",children:"层级"}),(0,r.jsx)("div",{children:e.level||1})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-[var(--text-secondary)]",children:"充值金额"}),(0,r.jsxs)("div",{children:["\xa5",e.amount||0]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-[var(--text-secondary)]",children:"获得奖励"}),(0,r.jsx)("div",{children:e.commission||0})]})]})]},e.id)):(0,r.jsx)("div",{className:"text-center py-4 text-[var(--text-secondary)]",children:u.getCommissionRecords||!x?"":"暂无详细记录"})})]})]})]})}let R=e=>{let{label:t,value:s}=e;return(0,r.jsxs)("div",{className:"bg-[var(--bg-tertiary)] rounded-md p-3 md:p-4 flex flex-col items-center",children:[(0,r.jsx)("div",{className:"text-xs text-[var(--text-secondary)] mb-1",children:t}),(0,r.jsx)("div",{className:"text-base md:text-xl font-bold",children:s})]})},D=(0,m.A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),S=(0,m.A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),A=(0,m.A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),E=(0,m.A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var T=s(4421),I=s(3096);function z(){let{wallet:e,walletAssets:t,isLoading:s,error:l,fetchWallet:i}=(0,u.vT)(),{transactions:d=[],page:c=1,limit:o=10,isLoading:m=!1,error:x=null,fetchTransactions:h,fetchNextPage:v,fetchPreviousPage:f}=(0,u.xG)(),[g,j]=(0,a.useState)(null),[p,b]=(0,a.useState)(!1),[N,y]=(0,a.useState)(!1),w=(0,a.useRef)(null);(0,a.useEffect)(()=>{function e(e){w.current&&!w.current.contains(e.target)&&y(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let[C,k]=(0,a.useState)(!1);(0,a.useEffect)(()=>{C||(async()=>{try{await i(),await h(),k(!0)}catch(e){console.error("加载钱包和交易数据失败:",e),k(!0)}})()},[C,i,h]);let R=e=>{try{j(e),h({page:1,type:e||void 0})}catch(e){console.error("Error filtering transactions:",e)}},z=e=>({DEPOSIT:"充值",RECHARGE:"充值",WITHDRAW:"提现",TRANSFER:"转账",REWARD:"奖励",CONSUMPTION:"消费",REFUND:"退款"})[e]||e,M=e=>({PENDING:"处理中",SUCCESSFUL:"成功",FAILED:"失败",CANCELED:"已取消"})[e]||e,L=e=>{try{let t=new Date(e);return"".concat(t.getFullYear(),"-").concat(String(t.getMonth()+1).padStart(2,"0"),"-").concat(String(t.getDate()).padStart(2,"0")," ").concat(String(t.getHours()).padStart(2,"0"),":").concat(String(t.getMinutes()).padStart(2,"0"))}catch(t){return e}},F=e=>e===T.y.REWARD||"DEPOSIT"===e||e===T.y.RECHARGE,P=e=>e===T.y.WITHDRAW||e===T.y.CONSUMPTION||"WITHDRAW"===e||"CONSUMPTION"===e,B=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return e?e.length>t?e.substring(0,t)+"...":e:""},H=(e,t,s)=>e?(0,r.jsxs)("div",{className:"text-center text-[var(--text-secondary)] py-4",children:["加载",s,"中..."]}):t?(0,r.jsxs)("div",{className:"text-center text-red-500 py-4",children:["加载",s,"失败: ",t]}):null;return(0,r.jsxs)("div",{className:"py-4 md:py-8 flex flex-col gap-6 md:gap-8 px-1 md:px-0",children:[(0,r.jsxs)("section",{className:"bg-[var(--bg-tertiary)] rounded-md p-4 md:p-6",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 mb-4",children:[(0,r.jsx)("div",{className:"text-lg font-bold",children:"钱包余额"}),(0,r.jsxs)(n.$,{variant:"outline",className:"w-full md:w-auto flex items-center gap-2",onClick:()=>{try{i()}catch(e){console.error("Error refreshing wallet:",e)}},disabled:s,children:[(0,r.jsx)(D,{size:16,className:s?"animate-spin":""}),s?"刷新中...":"刷新余额"]})]}),H(s,l,"钱包余额"),!s&&!l&&e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center mb-4 text-sm text-[var(--text-secondary)]",children:[(0,r.jsxs)("span",{children:["钱包ID: ",e.id]}),(0,r.jsxs)(n.$,{variant:"ghost",size:"sm",className:"ml-2 h-6 px-2",onClick:()=>{e&&e.id&&(navigator.clipboard.writeText(e.id),b(!0),setTimeout(()=>b(!1),2e3))},title:"复制钱包ID",children:[(0,r.jsx)(I.DDb,{className:"h-4 w-4"}),p?(0,r.jsx)("span",{className:"text-xs ml-1",children:"已复制"}):null]})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.length>0?t.map(e=>(0,r.jsxs)("div",{className:"bg-[var(--bg-secondary)] p-4 rounded-lg",children:[(0,r.jsxs)("div",{className:"font-medium mb-2",children:["资产类型: ",e.code]}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-[var(--text-secondary)]",children:"可用余额"}),(0,r.jsx)("div",{className:"font-bold text-lg",children:e.balance})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-[var(--text-secondary)]",children:"冻结余额"}),(0,r.jsx)("div",{className:"font-bold text-lg",children:e.frozenBalance})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-[var(--text-secondary)]",children:"总余额"}),(0,r.jsx)("div",{className:"font-bold text-lg",children:e.totalBalance})]})]})]},e.assetTypeId)):(0,r.jsx)("div",{className:"text-center text-[var(--text-secondary)] py-4",children:"暂无资产"})})]}),!s&&!l&&!e&&(0,r.jsx)("div",{className:"text-center text-[var(--text-secondary)] py-4",children:"暂无钱包信息"})]}),(0,r.jsxs)("section",{className:"bg-[var(--bg-tertiary)] rounded-md p-4 md:p-6",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 mb-4",children:[(0,r.jsx)("div",{className:"text-lg font-bold",children:"交易记录"}),(0,r.jsx)("div",{className:"flex gap-2",children:(0,r.jsxs)("div",{className:"relative inline-block",ref:w,children:[(0,r.jsxs)(n.$,{variant:"outline",className:"w-full md:w-auto flex items-center gap-2",onClick:()=>y(!N),children:[(0,r.jsx)(S,{size:16}),g?z(g):"所有类型"]}),N&&(0,r.jsx)("div",{className:"absolute right-0 mt-1 bg-[var(--bg-secondary)] rounded-md shadow-md z-10 w-36",children:(0,r.jsxs)("div",{className:"py-1",children:[(0,r.jsx)("button",{className:"block px-4 py-2 text-sm hover:bg-[var(--bg-hover)] w-full text-left",onClick:()=>{R(null),y(!1)},children:"所有类型"}),(0,r.jsx)("button",{className:"block px-4 py-2 text-sm hover:bg-[var(--bg-hover)] w-full text-left",onClick:()=>{R(T.y.RECHARGE),y(!1)},children:"充值"}),(0,r.jsx)("button",{className:"block px-4 py-2 text-sm hover:bg-[var(--bg-hover)] w-full text-left",onClick:()=>{R(T.y.WITHDRAW),y(!1)},children:"提现"}),(0,r.jsx)("button",{className:"block px-4 py-2 text-sm hover:bg-[var(--bg-hover)] w-full text-left",onClick:()=>{R(T.y.TRANSFER),y(!1)},children:"转账"}),(0,r.jsx)("button",{className:"block px-4 py-2 text-sm hover:bg-[var(--bg-hover)] w-full text-left",onClick:()=>{R(T.y.REWARD),y(!1)},children:"奖励"}),(0,r.jsx)("button",{className:"block px-4 py-2 text-sm hover:bg-[var(--bg-hover)] w-full text-left",onClick:()=>{R(T.y.CONSUMPTION),y(!1)},children:"消费"})]})})]})})]}),H(m,x,"交易记录"),!m&&!x&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full text-sm min-w-[600px]",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"text-[var(--text-secondary)] border-b border-[var(--border-color)]",children:[(0,r.jsx)("th",{className:"py-2 text-left pl-2",children:"时间"}),(0,r.jsx)("th",{className:"text-left",children:"类型"}),(0,r.jsx)("th",{className:"text-left",children:"金额"}),(0,r.jsx)("th",{className:"text-left",children:"状态"}),(0,r.jsx)("th",{className:"text-left",children:"资产类型"}),(0,r.jsx)("th",{className:"text-left",children:"原因"})]})}),(0,r.jsx)("tbody",{children:Array.isArray(d)&&d.length>0?d.map(e=>(0,r.jsxs)("tr",{className:"border-b border-[var(--border-color)]",children:[(0,r.jsx)("td",{className:"py-2 pl-2 text-left",children:L(e.createdAt)}),(0,r.jsx)("td",{className:"text-left",children:z(e.type)}),(0,r.jsxs)("td",{className:"text-left ".concat(F(e.type)?"text-green-500":P(e.type)?"text-red-500":""),children:[F(e.type)?"+":P(e.type)?"-":"",e.amount]}),(0,r.jsx)("td",{className:"text-left",children:M(e.status)}),(0,r.jsx)("td",{className:"text-left",children:e.assetTypeId}),(0,r.jsx)("td",{className:"text-left max-w-xs",children:(0,r.jsx)("div",{className:"truncate",title:e.reason||"",children:B(e.reason,30)})})]},e.id)):(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:6,className:"text-center py-4 text-[var(--text-secondary)]",children:"暂无交易记录"})})})]})}),(0,r.jsx)("div",{className:"md:hidden",children:Array.isArray(d)&&d.length>0?d.map(e=>(0,r.jsxs)("div",{className:"bg-[var(--bg-secondary)] p-4 rounded-lg mb-3",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,r.jsx)("div",{className:"font-medium",children:z(e.type)}),(0,r.jsx)("div",{className:"text-sm text-[var(--text-secondary)]",children:L(e.createdAt)})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm mb-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-[var(--text-secondary)]",children:"金额"}),(0,r.jsxs)("div",{className:"font-medium ".concat(F(e.type)?"text-green-500":P(e.type)?"text-red-500":""),children:[F(e.type)?"+":P(e.type)?"-":"",e.amount]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-[var(--text-secondary)]",children:"状态"}),(0,r.jsx)("div",{children:M(e.status)})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-2 text-sm mb-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-[var(--text-secondary)]",children:"资产类型"}),(0,r.jsx)("div",{children:e.assetTypeId})]}),e.reason&&(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-[var(--text-secondary)]",children:"原因"}),(0,r.jsx)("div",{className:"truncate",children:B(e.reason,30)})]})]})]},e.id)):(0,r.jsx)("div",{className:"text-center py-4 text-[var(--text-secondary)]",children:"暂无交易记录"})}),(0,r.jsxs)("div",{className:"flex justify-between mt-4",children:[(0,r.jsxs)(n.$,{variant:"outline",className:"flex items-center gap-2",onClick:f,disabled:c<=1||m,children:[(0,r.jsx)(A,{size:16}),"上一页"]}),(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsxs)("span",{className:"text-sm text-[var(--text-secondary)]",children:["第 ",c," 页"]})}),(0,r.jsxs)(n.$,{variant:"outline",className:"flex items-center gap-2",onClick:v,disabled:!Array.isArray(d)||d.length<o||m,children:["下一页",(0,r.jsx)(E,{size:16})]})]})]})]})]})}var M=s(9434);function L(e){let{className:t,...s}=e;return(0,r.jsx)("div",{className:(0,M.cn)("animate-pulse rounded-md bg-muted",t),...s})}function F(){let e=(0,i.G)(d.xu),[t,s]=(0,a.useState)(!1),[c,m]=(0,a.useState)("钱包"),[x,h]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{s(!0)},[]),(0,r.jsxs)("main",{className:"min-h-screen bg-background text-foreground",children:[(0,r.jsxs)("div",{className:"relative pt-20",children:[(0,r.jsxs)("div",{className:"absolute top-0 left-0 w-full h-64 overflow-hidden z-0",children:[(0,r.jsx)("div",{className:"w-full h-full bg-gradient-to-r from-background/80 to-muted/80 opacity-70"}),(0,r.jsx)("div",{className:"absolute top-0 left-0 w-full h-full bg-background/30"})]}),(0,r.jsx)("div",{className:"relative z-10 max-w-6xl mx-auto px-4 py-6",children:t&&e?(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-end gap-6 mb-8",children:[(0,r.jsx)("div",{className:"w-24 h-24 bg-muted rounded-full border-4 border-background overflow-hidden",children:(0,r.jsxs)(o.eu,{className:"w-full h-full",children:[(0,r.jsx)(o.BK,{src:e.avatarUrl,alt:e.nickname||e.username,className:"object-cover"}),(0,r.jsx)(o.q5,{className:"bg-[var(--bg-tertiary)] text-[var(--text-primary)] text-3xl font-bold",children:e.username.charAt(0).toUpperCase()})]})}),(0,r.jsxs)("div",{className:"flex-grow",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold",children:e.nickname||e.username}),(0,r.jsxs)("div",{className:"flex items-center mt-1 text-sm text-muted-foreground",children:[(0,r.jsxs)("span",{children:["ID: ",e.id]}),(0,r.jsxs)(n.$,{variant:"ghost",size:"sm",className:"ml-2 h-6 px-2",onClick:()=>{e&&e.id&&(navigator.clipboard.writeText(e.id),h(!0),setTimeout(()=>h(!1),2e3))},title:"复制用户ID",children:[(0,r.jsx)(I.DDb,{className:"h-4 w-4"}),x?(0,r.jsx)("span",{className:"text-xs",children:"已复制"}):null]})]}),(0,r.jsxs)("div",{className:"flex gap-6 mt-4",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-lg font-bold",children:"0"}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"粉丝"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-lg font-bold",children:"0"}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"关注"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-lg font-bold",children:"0"}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"获赞"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-lg font-bold",children:"0"}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"收藏"})]})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-8",children:[(0,r.jsxs)("div",{className:"bg-card p-4 rounded-md flex flex-col items-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 mb-2 flex items-center justify-center",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-yellow-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,r.jsx)("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})}),(0,r.jsx)("div",{className:"font-bold text-lg",children:"3000"}),(0,r.jsx)("div",{className:"text-xs text-muted-foreground",children:"硬度"})]}),(0,r.jsxs)("div",{className:"bg-card p-4 rounded-md flex flex-col items-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 mb-2 flex items-center justify-center",children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-muted-foreground",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,r.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),(0,r.jsx)("path",{d:"M7 7h10v10H7z"})]})}),(0,r.jsx)("div",{className:"font-bold text-lg",children:"0"}),(0,r.jsx)("div",{className:"text-xs text-muted-foreground",children:"卡券"})]}),(0,r.jsxs)("div",{className:"bg-card p-4 rounded-md flex flex-col items-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 mb-2 flex items-center justify-center",children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,r.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),(0,r.jsx)("path",{d:"M14 2v6h6"}),(0,r.jsx)("path",{d:"M16 13H8"}),(0,r.jsx)("path",{d:"M16 17H8"}),(0,r.jsx)("path",{d:"M10 9H8"})]})}),(0,r.jsx)("div",{className:"font-bold text-lg",children:"6"}),(0,r.jsx)("div",{className:"text-xs text-muted-foreground",children:"故事"})]}),(0,r.jsxs)("div",{className:"bg-card p-4 rounded-md flex flex-col items-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 mb-2 flex items-center justify-center",children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,r.jsx)("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),(0,r.jsx)("circle",{cx:"12",cy:"7",r:"4"})]})}),(0,r.jsx)("div",{className:"font-bold text-lg",children:"1"}),(0,r.jsx)("div",{className:"text-xs text-muted-foreground",children:"人设"})]}),(0,r.jsxs)("div",{className:"bg-card p-4 rounded-md flex flex-col items-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 mb-2 flex items-center justify-center",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-purple-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,r.jsx)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})})}),(0,r.jsx)("div",{className:"font-bold text-lg",children:"1"}),(0,r.jsx)("div",{className:"text-xs text-muted-foreground",children:"预设"})]}),(0,r.jsxs)("div",{className:"bg-card p-4 rounded-md flex flex-col items-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 mb-2 flex items-center justify-center",children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-red-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,r.jsx)("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),(0,r.jsx)("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]})}),(0,r.jsx)("div",{className:"font-bold text-lg",children:"0"}),(0,r.jsx)("div",{className:"text-xs text-muted-foreground",children:"世界书"})]})]}),(0,r.jsx)("div",{className:"border-b border-border",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("button",{className:"px-6 py-3 text-sm font-medium ".concat("钱包"===c?"text-foreground border-b-2 border-primary":"text-muted-foreground hover:text-foreground"),onClick:()=>m("钱包"),children:"钱包"}),(0,r.jsx)("button",{className:"px-6 py-3 text-sm font-medium ".concat("邀请"===c?"text-foreground border-b-2 border-primary":"text-muted-foreground hover:text-foreground"),onClick:()=>m("邀请"),children:"邀请"}),(0,r.jsx)("button",{className:"px-6 py-3 text-sm font-medium ".concat("设置"===c?"text-foreground border-b-2 border-primary":"text-muted-foreground hover:text-foreground"),onClick:()=>m("设置"),children:"设置"}),(0,r.jsx)("button",{className:"px-6 py-3 text-sm font-medium ".concat("创作"===c?"text-foreground border-b-2 border-primary":"text-muted-foreground hover:text-foreground"),onClick:()=>m("创作"),children:"创作"}),(0,r.jsx)("button",{className:"px-6 py-3 text-sm font-medium ".concat("收藏"===c?"text-foreground border-b-2 border-primary":"text-muted-foreground hover:text-foreground"),onClick:()=>m("收藏"),children:"收藏"}),(0,r.jsx)("button",{className:"px-6 py-3 text-sm font-medium ".concat("赞过"===c?"text-foreground border-b-2 border-primary":"text-muted-foreground hover:text-foreground"),onClick:()=>m("赞过"),children:"赞过"})]})}),(0,r.jsxs)("div",{className:"py-6",children:["钱包"===c&&(0,r.jsx)(z,{}),"邀请"===c&&(0,r.jsx)(k,{}),"设置"===c&&(0,r.jsx)(y,{}),"创作"===c&&(0,r.jsx)("div",{}),"收藏"===c&&(0,r.jsx)("div",{}),"赞过"===c&&(0,r.jsx)("div",{})]})]}):(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-end gap-6 mb-8",children:[(0,r.jsx)(L,{className:"w-24 h-24 rounded-full bg-muted"}),(0,r.jsxs)("div",{className:"flex-grow",children:[(0,r.jsx)(L,{className:"h-8 w-32 bg-muted rounded-md mb-4"}),(0,r.jsx)("div",{className:"flex gap-6 mt-4",children:(0,r.jsx)(L,{className:"h-10 w-16 bg-muted rounded-md"})})]}),(0,r.jsx)(L,{className:"w-24 h-10 bg-muted rounded-md"})]}),(0,r.jsx)("div",{className:"text-center py-20",children:(0,r.jsx)(L,{className:"h-6 w-32 bg-muted rounded-md mx-auto"})})]})})]}),(0,r.jsx)(l.default,{})]})}},5651:(e,t,s)=>{Promise.resolve().then(s.bind(s,5273))},6821:(e,t,s)=>{"use strict";s.d(t,{default:()=>i});var r=s(5155),a=s(6874),l=s.n(a),n=s(6766);function i(){return(0,r.jsx)("footer",{className:"bg-[var(--bg-primary)] text-[var(--text-primary)] py-16 px-4",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,r.jsxs)("div",{className:"col-span-1 md:col-span-1",children:[(0,r.jsx)(l(),{href:"/",className:"inline-block mb-4",children:(0,r.jsx)(n.default,{src:"https://ext.same-assets.com/715601384/683049629.png",alt:"QuackAI",width:120,height:30,className:"mb-4"})}),(0,r.jsx)("p",{className:"text-sm text-[var(--text-secondary)] mb-4",children:"基于酒馆(SillyTavern)的AI角色扮演平台，提供免搭建酒馆，同时提供轻享版角色互动"}),(0,r.jsx)("div",{className:"flex space-x-4",children:(0,r.jsx)(l(),{href:"https://discord.gg/RBDVwJdFh3",target:"_blank",rel:"noopener noreferrer",className:"text-[var(--text-primary)] hover:text-[var(--text-secondary)]",children:(0,r.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z"})})})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-bold text-lg mb-4",children:"产品"}),(0,r.jsxs)("ul",{className:"space-y-2",children:[(0,r.jsx)("li",{children:(0,r.jsx)(l(),{href:"#",className:"text-[var(--text-secondary)] hover:text-[var(--text-primary)]",children:"酒馆 | STUDIO"})}),(0,r.jsx)("li",{children:(0,r.jsx)(l(),{href:"#",className:"text-[var(--text-secondary)] hover:text-[var(--text-primary)]",children:"聊天 | CHAT"})}),(0,r.jsx)("li",{children:(0,r.jsx)(l(),{href:"#",className:"text-[var(--text-secondary)] hover:text-[var(--text-primary)]",children:"酒馆 | SILLYTAVERN"})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-bold text-lg mb-4",children:"资源"}),(0,r.jsxs)("ul",{className:"space-y-2",children:[(0,r.jsx)("li",{children:(0,r.jsx)(l(),{href:"#",className:"text-[var(--text-secondary)] hover:text-[var(--text-primary)]",children:"API KEY"})}),(0,r.jsx)("li",{children:(0,r.jsx)(l(),{href:"#",className:"text-[var(--text-secondary)] hover:text-[var(--text-primary)]",children:"使用说明"})}),(0,r.jsx)("li",{children:(0,r.jsx)(l(),{href:"#",className:"text-[var(--text-secondary)] hover:text-[var(--text-primary)]",children:"教程计划"})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-bold text-lg mb-4",children:"关于"}),(0,r.jsxs)("ul",{className:"space-y-2",children:[(0,r.jsx)("li",{children:(0,r.jsx)(l(),{href:"https://discord.gg/RBDVwJdFh3",target:"_blank",rel:"noopener noreferrer",className:"text-[var(--text-secondary)] hover:text-[var(--text-primary)]",children:"加入社区"})}),(0,r.jsx)("li",{children:(0,r.jsx)(l(),{href:"#",className:"text-[var(--text-secondary)] hover:text-[var(--text-primary)]",children:"在线地址"})}),(0,r.jsx)("li",{children:(0,r.jsx)(l(),{href:"#",className:"text-[var(--text-secondary)] hover:text-[var(--text-primary)]",children:"福利领取"})})]})]})]}),(0,r.jsx)("div",{className:"border-t border-[var(--border-color)] mt-12 pt-8 text-center text-sm text-[var(--text-secondary)]",children:(0,r.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," QuackAI. All rights reserved."]})})]})})}},7374:(e,t,s)=>{"use strict";s.d(t,{oR:()=>n});var r=s(4752),a=s.n(r);let l=()=>({background:"var(--bg-secondary)",color:"var(--text-primary)",confirmButtonColor:"var(--switch-checked-bg)",cancelButtonColor:"var(--switch-unchecked-bg)"}),n={success:e=>{a().fire({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,icon:"success",title:e,...l()})},error:e=>{a().fire({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,icon:"error",title:e,...l()})},loading:e=>{a().fire({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,icon:"info",title:e,...l()})},promise:(e,t)=>a().fire({title:t.loading,allowOutsideClick:!1,showConfirmButton:!1,...l()}).then(()=>e.then(()=>{a().fire({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,icon:"success",title:t.success,...l()})}).catch(()=>{a().fire({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,icon:"error",title:t.error,...l()})}))}},7464:(e,t,s)=>{"use strict";s.d(t,{w1:()=>o,CA:()=>m,kZ:()=>x});var r=s(6439),a=s(9249),l=s(6168),n=s(3299);class i{async generateInvitationCode(e){try{return(await l.o.invitation.generateInvitationCode({generateCodeRequestDto:e})).data}catch(e){throw console.error("Failed to generate invitation code:",e),e}}async getCommissionRecords(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{return(await l.o.invitation.getCommissionRecords({page:e,limit:t,...s})).data}catch(e){throw console.error("Failed to get commission records:",e),e}}async getComprehensiveInviteData(){try{return(await l.o.invitation.getComprehensiveInviteData()).data}catch(e){throw console.error("Failed to get comprehensive invite data:",e),e}}}let d=new(i=(0,a.Cg)([n.A.Singleton],i)),c="invitation",o=(0,r.zD)("".concat(c,"/generateCode"),async(e,t)=>{let{rejectWithValue:s}=t;try{return await d.generateInvitationCode(e.codeData)}catch(e){return s(e instanceof Error?e.message:"Failed to generate invitation code")}}),m=(0,r.zD)("".concat(c,"/getCommissionRecords"),async(e,t)=>{let{rejectWithValue:s}=t;try{let t="object"==typeof e&&(null==e?void 0:e.page)?e.page:1,s="object"==typeof e&&(null==e?void 0:e.limit)?e.limit:10,r={type:"object"==typeof e&&(null==e?void 0:e.type)?e.type:void 0,startDate:"object"==typeof e&&(null==e?void 0:e.startDate)?e.startDate:void 0,endDate:"object"==typeof e&&(null==e?void 0:e.endDate)?e.endDate:void 0};return await d.getCommissionRecords(t,s,r)}catch(e){return s(e instanceof Error?e.message:"Failed to get commission records")}}),x=(0,r.zD)("".concat(c,"/getComprehensiveInviteData"),async(e,t)=>{let{rejectWithValue:s}=t;try{return await d.getComprehensiveInviteData()}catch(e){return s(e instanceof Error?e.message:"Failed to get comprehensive invite data")}})},7817:(e,t,s)=>{"use strict";s.d(t,{d:()=>d});var r=s(2115),a=s(2045),l=s(1183),n=s(7464),i=s(9751);let d=()=>{let e=(0,a.j)(),t=(0,a.G)(l.J1),s=(0,a.G)(l.E4),d=(0,a.G)(l.BV),c=(0,a.G)(l.Kp),o=(0,a.G)(l.In),m=(0,r.useCallback)(t=>e((0,n.w1)(t)),[e]),x=(0,r.useCallback)(t=>{e((0,n.CA)(t))},[e]);return{invitationCode:t,commissionRecords:s,comprehensiveData:d,loading:c,error:o,generateCode:m,fetchCommissionRecords:x,fetchComprehensiveData:(0,r.useCallback)(()=>{e((0,n.kZ)())},[e]),clearError:(0,r.useCallback)(t=>{e((0,i.f3)(t))},[e])}}},9434:(e,t,s)=>{"use strict";s.d(t,{cn:()=>l});var r=s(2596),a=s(9688);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,r.$)(t))}},9751:(e,t,s)=>{"use strict";s.d(t,{Ay:()=>c,f3:()=>d,uJ:()=>i});var r=s(6439),a=s(7464);let l={invitationCode:null,commissionRecords:null,comprehensiveData:null,loading:{generateCode:!1,getCommissionRecords:!1,getComprehensiveData:!1},error:{generateCode:null,getCommissionRecords:null,getComprehensiveData:null}},n=(0,r.Z0)({name:"invitation",initialState:l,reducers:{clearInvitationState:()=>l,clearInvitationError:(e,t)=>{e.error[t.payload]=null}},extraReducers:e=>{e.addCase(a.w1.pending,e=>{e.loading.generateCode=!0,e.error.generateCode=null}).addCase(a.w1.fulfilled,(e,t)=>{e.loading.generateCode=!1,e.invitationCode=t.payload}).addCase(a.w1.rejected,(e,t)=>{e.loading.generateCode=!1,e.error.generateCode=t.payload||"Unknown error"}),e.addCase(a.CA.pending,e=>{e.loading.getCommissionRecords=!0,e.error.getCommissionRecords=null}).addCase(a.CA.fulfilled,(e,t)=>{e.loading.getCommissionRecords=!1,e.commissionRecords=t.payload}).addCase(a.CA.rejected,(e,t)=>{e.loading.getCommissionRecords=!1,e.error.getCommissionRecords=t.payload||"Unknown error"}),e.addCase(a.kZ.pending,e=>{e.loading.getComprehensiveData=!0,e.error.getComprehensiveData=null}).addCase(a.kZ.fulfilled,(e,t)=>{e.loading.getComprehensiveData=!1,e.comprehensiveData=t.payload}).addCase(a.kZ.rejected,(e,t)=>{e.loading.getComprehensiveData=!1,e.error.getComprehensiveData=t.payload||"Unknown error"})}}),{clearInvitationState:i,clearInvitationError:d}=n.actions,c=n.reducer},9879:(e,t,s)=>{"use strict";s.d(t,{ThemeProvider:()=>b,D:()=>o});var r=s(5155),a=s(2115),l=(e,t,s,r,a,l,n,i)=>{let d=document.documentElement,c=["light","dark"];function o(t){var s;(Array.isArray(e)?e:[e]).forEach(e=>{let s="class"===e,r=s&&l?a.map(e=>l[e]||e):a;s?(d.classList.remove(...r),d.classList.add(l&&l[t]?l[t]:t)):d.setAttribute(e,t)}),s=t,i&&c.includes(s)&&(d.style.colorScheme=s)}if(r)o(r);else try{let e=localStorage.getItem(t)||s,r=n&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;o(r)}catch(e){}},n=["light","dark"],i="(prefers-color-scheme: dark)",d=a.createContext(void 0),c={setTheme:e=>{},themes:[]},o=()=>{var e;return null!=(e=a.useContext(d))?e:c},m=e=>a.useContext(d)?a.createElement(a.Fragment,null,e.children):a.createElement(h,{...e}),x=["light","dark"],h=e=>{let{forcedTheme:t,disableTransitionOnChange:s=!1,enableSystem:r=!0,enableColorScheme:l=!0,storageKey:c="theme",themes:o=x,defaultTheme:m=r?"system":"light",attribute:h="data-theme",value:j,children:p,nonce:b,scriptProps:N}=e,[y,w]=a.useState(()=>v(c,m)),[C,k]=a.useState(()=>"system"===y?g():y),R=j?Object.values(j):o,D=a.useCallback(e=>{let t=e;if(!t)return;"system"===e&&r&&(t=g());let a=j?j[t]:t,i=s?f(b):null,d=document.documentElement,c=e=>{"class"===e?(d.classList.remove(...R),a&&d.classList.add(a)):e.startsWith("data-")&&(a?d.setAttribute(e,a):d.removeAttribute(e))};if(Array.isArray(h)?h.forEach(c):c(h),l){let e=n.includes(m)?m:null,s=n.includes(t)?t:e;d.style.colorScheme=s}null==i||i()},[b]),S=a.useCallback(e=>{let t="function"==typeof e?e(y):e;w(t);try{localStorage.setItem(c,t)}catch(e){}},[y]),A=a.useCallback(e=>{k(g(e)),"system"===y&&r&&!t&&D("system")},[y,t]);a.useEffect(()=>{let e=window.matchMedia(i);return e.addListener(A),A(e),()=>e.removeListener(A)},[A]),a.useEffect(()=>{let e=e=>{e.key===c&&(e.newValue?w(e.newValue):S(m))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[S]),a.useEffect(()=>{D(null!=t?t:y)},[t,y]);let E=a.useMemo(()=>({theme:y,setTheme:S,forcedTheme:t,resolvedTheme:"system"===y?C:y,themes:r?[...o,"system"]:o,systemTheme:r?C:void 0}),[y,S,t,C,r,o]);return a.createElement(d.Provider,{value:E},a.createElement(u,{forcedTheme:t,storageKey:c,attribute:h,enableSystem:r,enableColorScheme:l,defaultTheme:m,value:j,themes:o,nonce:b,scriptProps:N}),p)},u=a.memo(e=>{let{forcedTheme:t,storageKey:s,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:d,value:c,themes:o,nonce:m,scriptProps:x}=e,h=JSON.stringify([r,s,d,t,o,c,n,i]).slice(1,-1);return a.createElement("script",{...x,suppressHydrationWarning:!0,nonce:"",dangerouslySetInnerHTML:{__html:"(".concat(l.toString(),")(").concat(h,")")}})}),v=(e,t)=>{let s;try{s=localStorage.getItem(e)||void 0}catch(e){}return s||t},f=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},g=e=>(e||(e=window.matchMedia(i)),e.matches?"dark":"light"),j=s(8613);let p=["dark","light","pink","system"];function b(e){let{children:t}=e,{themeSetting:s,updateSettings:a}=(0,j.Qg)();return(0,r.jsx)(m,{attribute:"class",defaultTheme:"dark",enableSystem:!1,themes:p,children:(0,r.jsx)(N,{initialThemeSetting:s,updateSettings:a,children:t})})}function N(e){let{initialThemeSetting:t,updateSettings:s,children:l}=e,{setTheme:n,theme:i,resolvedTheme:d}=o(),[c,m]=(0,a.useState)(!1),[x,h]=(0,a.useState)(t);return(0,a.useEffect)(()=>{m(!0)},[]),(0,a.useEffect)(()=>{if(c&&t&&t!==d){let e=t;p.includes(e)||(console.warn('[ThemeProvider] Invalid initial theme "'.concat(e,'" from Redux, defaulting to dark.')),e="dark"),console.log("[ThemeProvider] Initial sync Redux (".concat(e,") -> next-themes.")),n(e)}},[c,t,d,n]),(0,a.useEffect)(()=>{c&&d&&d!==x&&p.includes(d)&&(console.log("[ThemeProvider] Sync next-themes (".concat(d,") -> Redux.")),s({theme:d}).then(e=>{e?h(d):console.error("[ThemeProvider] Failed to sync theme to Redux.")}))},[c,d,x,s,n]),(0,a.useEffect)(()=>{c&&t!==x&&(console.log("[ThemeProvider] Redux state changed externally to: ".concat(t,". Updating tracker.")),h(t))},[c,t,x,d,n]),(0,a.useEffect)(()=>{c&&console.log("[ThemeProvider] Current theme state:",{reduxTheme:x,nextThemesTheme:i,nextThemesResolved:d,bodyClass:document.body.className})},[c,x,i,d]),(0,r.jsx)(r.Fragment,{children:l})}}},e=>{var t=t=>e(e.s=t);e.O(0,[951,320,105,428,702,500,613,441,684,358],()=>t(5651)),_N_E=e.O()}]);