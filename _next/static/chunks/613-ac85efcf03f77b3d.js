"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[613],{179:(e,t,r)=>{r.d(t,{As:()=>w,Ay:()=>v,Fo:()=>p,G7:()=>S,Nh:()=>c,WG:()=>i,gV:()=>n,mJ:()=>u,me:()=>y,r1:()=>l,r3:()=>f,ri:()=>g,wQ:()=>h,wr:()=>m});var a=r(6439);let o={userId:"",language:"zh",theme:"dark",notifications:{email:!0,push:!0,updates:!0,marketing:!1},privacy:{profileVisible:!0,contentVisible:!0,activityVisible:!1},updatedAt:new Date().toISOString()},s=(0,a.Z0)({name:"user",initialState:{currentUser:null,isLoading:!1,error:null,token:null,isAuthenticated:!1,settings:o,wallet:null,transactionsData:[],transactionsPage:1,transactionsLimit:10,transactionsTotal:0,transactionsLoading:!1,transactionsError:null},reducers:{setUser:(e,t)=>{e.currentUser=t.payload,e.isAuthenticated=!!t.payload},setLoading:(e,t)=>{e.isLoading=t.payload},setError:(e,t)=>{e.error=t.payload},updateUserSettings:(e,t)=>{let{notifications:r,privacy:a,...o}=t.payload;Object.assign(e.settings,o),r&&e.settings.notifications&&(e.settings.notifications={...e.settings.notifications,...r}),a&&e.settings.privacy&&(e.settings.privacy={...e.settings.privacy,...a})},setToken:(e,t)=>{e.token=t.payload},logout:e=>{e.currentUser=null,e.isAuthenticated=!1,e.token=null,e.error=null,e.wallet=null,e.transactionsData=[]},clearError:e=>{e.error=null},setWallet:(e,t)=>{e.wallet=t.payload},setTransactions:(e,t)=>{e.transactionsData=t.payload},setTransactionsTotal:(e,t)=>{e.transactionsTotal=t.payload},setTransactionsPage:(e,t)=>{e.transactionsPage=t.payload},setTransactionsLimit:(e,t)=>{e.transactionsLimit=t.payload},setTransactionsLoading:(e,t)=>{e.transactionsLoading=t.payload},setTransactionsError:(e,t)=>{e.transactionsError=t.payload}}}),{setUser:n,setLoading:l,setToken:i,setError:c,updateUserSettings:u,logout:g,clearError:d,setWallet:h,setTransactions:w,setTransactionsTotal:y,setTransactionsPage:f,setTransactionsLimit:p,setTransactionsLoading:S,setTransactionsError:m}=s.actions,v=s.reducer},1795:(e,t,r)=>{r.d(t,{Kc:()=>o,MU:()=>s,VL:()=>i,Wk:()=>c,Zg:()=>u,vc:()=>l,wf:()=>n,xu:()=>a});let a=e=>e.user.currentUser,o=e=>e.user.isAuthenticated,s=e=>e.user.isLoading,n=e=>e.user.error,l=e=>{var t;return null==(t=e.user.currentUser)?void 0:t.avatarUrl},i=e=>e.user.settings,c=e=>e.user.wallet,u=e=>{var t;return(null==(t=e.user.wallet)?void 0:t.assets)||[]}},2045:(e,t,r)=>{r.d(t,{G:()=>s,j:()=>o});var a=r(4540);let o=()=>(0,a.wA)(),s=a.d4},3178:(e,t,r)=>{r.d(t,{qs:()=>k,Zx:()=>m,CH:()=>F,M_:()=>P,_v:()=>f,f7:()=>S,MX:()=>p,rK:()=>T,Ur:()=>v,Hc:()=>U});var a=r(6439),o=r(179),s=r(6168),n=r(9249),l=r(3299);class i{async findOne(e){try{return(await s.o.users.findOne({id:e})).data}catch(e){throw console.error("Failed to find user:",e),e}}async followUser(e){try{await s.o.users.followUser({targetId:e})}catch(e){throw console.error("Failed to follow user:",e),e}}async getFollowers(e,t){try{return(await s.o.users.getFollowers({page:e,limit:t})).data}catch(e){throw console.error("Failed to get followers:",e),e}}async getFollowing(e,t){try{return(await s.o.users.getFollowing({page:e,limit:t})).data}catch(e){throw console.error("Failed to get following:",e),e}}async getSettings(){try{return(await s.o.users.getSettings()).data}catch(e){throw console.error("Failed to get settings:",e),e}}async getStats(){try{return(await s.o.users.getStats()).data}catch(e){throw console.error("Failed to get stats:",e),e}}async getUserFollowers(e,t,r){try{return(await s.o.users.getUserFollowers({id:e,page:t,limit:r})).data}catch(e){throw console.error("Failed to get user followers:",e),e}}async getUserFollowing(e,t,r){try{return(await s.o.users.getUserFollowing({id:e,page:t,limit:r})).data}catch(e){throw console.error("Failed to get user following:",e),e}}async getUserInfo(){try{return(await s.o.users.getUserInfo()).data}catch(e){throw console.error("Failed to get user info:",e),e}}async unfollowUser(e){try{await s.o.users.unfollowUser({targetId:e})}catch(e){throw console.error("Failed to unfollow user:",e),e}}async updateProfile(e){try{return(await s.o.users.updateProfile({updateProfileRequestDto:e})).data}catch(e){throw console.error("Failed to update profile:",e),e}}async updateSettings(e){try{return(await s.o.users.updateSettings({updateSettingsRequestDto:e})).data}catch(e){throw console.error("Failed to update settings:",e),e}}}let c=new(i=(0,n.Cg)([l.A.Singleton],i));var u=r(4430);class g{async generatePresignedUrl(e){try{let t={fileName:e.fileName,fileSize:e.fileSize,contentType:e.mimeType,fileType:e.fileType||"user_avatar",accessLevel:e.accessLevel||"PUBLIC",relatedId:e.relatedId||""},r=await s.o.storage.generatePresignedUrl({generatePresignedUrlRequestDto:t});if(!r.data)throw Error("Failed to generate presigned URL: Invalid response data");let a=r.data;return{url:a.presignedUrl||"",fileInfo:{filePath:a.filePath,fileUrl:a.fileUrl,expiresAt:a.expiresAt}}}catch(e){throw console.error("Failed to generate presigned URL:",e),e}}async deleteFile(e){try{return(await s.o.storage.deleteFile({headers:{"X-File-Path":e}})).data}catch(t){throw console.error("Failed to delete file at ".concat(e,":"),t),t}}async getFileUrl(e){try{let t=await s.o.storage.getFileUrl({headers:{"X-File-Path":e}});if(t.data)return t.data.url||"";return""}catch(t){throw console.error("Failed to get file URL for ".concat(e,":"),t),t}}async uploadWithNoCors(e,t,r){try{return await fetch(e,{method:"PUT",body:t,headers:{"Content-Type":r,"Content-Length":t.byteLength.toString(),"Cache-Control":"no-cache"},mode:"no-cors",credentials:"omit"}),!0}catch(e){return console.error("No-cors upload failed:",e),!1}}async uploadFile(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"user_avatar",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"PUBLIC";try{let{url:a,fileInfo:o}=await this.generatePresignedUrl({fileName:e.name,fileSize:e.size,mimeType:e.type,fileType:t,accessLevel:r});if(!a)throw Error("Missing presigned URL");if(!o.filePath)throw Error("Missing file path in presigned URL response");let s=await e.arrayBuffer(),n=!1;try{n=(await fetch(a,{method:"PUT",headers:{"Content-Type":e.type,"Content-Length":e.size.toString(),"Cache-Control":"no-cache"},body:s})).ok}catch(e){console.warn("Standard upload failed:",e)}if(!n)if(n=await this.uploadWithNoCors(a,s,e.type))await new Promise(e=>setTimeout(e,2e3));else throw Error("文件上传失败：所有尝试均失败");if(o.fileUrl)return o.fileUrl;try{let e=await this.getFileUrl(o.filePath);if(!e)throw Error("获取文件URL失败");return e}catch(e){if(o.filePath)return"".concat("https://dev-file.tang-bao.com","/").concat(o.filePath);throw e}}catch(e){throw console.error("Failed to upload file:",e),e}}async testCorsConfig(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://dev-file.tang-bao.com/";try{let t=await fetch(e,{method:"HEAD",mode:"cors",credentials:"omit"});return console.log("CORS test result:",{url:e,ok:t.ok,status:t.status,headers:{"access-control-allow-origin":t.headers.get("access-control-allow-origin"),"access-control-allow-methods":t.headers.get("access-control-allow-methods"),"access-control-allow-headers":t.headers.get("access-control-allow-headers")}}),t.ok}catch(e){return console.error("CORS test failed:",e),!1}}}let d=new(g=(0,n.Cg)([l.A.Singleton],g));class h{async getMyWallet(){try{return(await s.o.wallet.getMyWallet()).data}catch(e){throw console.error("Failed to get wallet:",e),e}}async getTransactions(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{return(await s.o.wallet.getTransactions({page:e,limit:t,...r})).data}catch(e){throw console.error("Failed to get transactions:",e),e}}}let w=new(h=(0,n.Cg)([l.A.Singleton],h));var y=r(7374);let f=(0,a.zD)("user/login",async(e,t)=>{let{dispatch:r}=t;try{r((0,o.r1)(!0));let t=await u.u.login({identifier:e.email,password:e.password}),a=t.token.accessToken;r((0,o.WG)(a)),r((0,o.gV)(t.profile));let s=new CustomEvent("login-success",{detail:{user:t.profile}});document.dispatchEvent(s)}catch(t){var a,s;let e="An unknown error occurred";throw e=(null==t||null==(s=t.response)||null==(a=s.data)?void 0:a.message)?t.response.data.message:(null==t?void 0:t.message)?t.message:String(t),r((0,o.Nh)(e)),t}finally{r((0,o.r1)(!1))}}),p=(0,a.zD)("user/register",async(e,t)=>{let{dispatch:r}=t;try{r((0,o.r1)(!0));let t=await u.u.register(e),a=t.token.accessToken;r((0,o.WG)(a)),r((0,o.gV)(t.profile));let s=new CustomEvent("register-success",{detail:{user:t.profile}});document.dispatchEvent(s),y.oR.success("注册成功！")}catch(t){var a,s;let e="An unknown error occurred";throw e=(null==t||null==(s=t.response)||null==(a=s.data)?void 0:a.message)?t.response.data.message:(null==t?void 0:t.message)?t.message:String(t),r((0,o.Nh)(e)),t}finally{r((0,o.r1)(!1))}}),S=(0,a.zD)("user/logout",async(e,t)=>{let{dispatch:r}=t;try{console.log("[LOGOUT] 开始退出登录流程"),r((0,o.r1)(!0)),console.log("[LOGOUT] 清除token"),r((0,o.WG)(null)),console.log("[LOGOUT] 调用logout action清除用户状态"),r((0,o.ri)()),s.o&&(console.log("[LOGOUT] 清除SDK服务的token"),s.o.setToken("")),await Promise.resolve(),console.log("[LOGOUT] 退出登录流程完成")}catch(e){console.error("[LOGOUT] 退出登录失败:",e),r((0,o.Nh)(e instanceof Error?e.message:String(e)))}finally{r((0,o.r1)(!1))}}),m=(0,a.zD)("user/fetchProfile",async(e,t)=>{let{dispatch:r}=t;try{r((0,o.r1)(!0)),console.log("fetchUserProfileAsync");try{let e=await s.o.users.getUserInfo();console.log("profileResponse",e),r((0,o.gV)(e.data))}catch(e){console.error("Failed to fetch user profile:",e)}}catch(e){r((0,o.Nh)(e instanceof Error?e.message:String(e))),r((0,o.ri)())}finally{r((0,o.r1)(!1))}}),v=(0,a.zD)("user/updateProfile",async(e,t)=>{let{updateData:r,manageLoading:a=!0}=e,{dispatch:s,getState:n}=t;a&&s((0,o.r1)(!0));try{if(!n().user.currentUser)throw Error("User not logged in");let e=await c.updateProfile(r);return s((0,o.gV)(e)),e}catch(t){let e=t instanceof Error?t.message:String(t);throw a&&s((0,o.Nh)(e)),Error(e)}finally{a&&s((0,o.r1)(!1))}}),U=(0,a.zD)("user/uploadAvatar",async(e,t)=>{let{dispatch:r,getState:a}=t;try{if(!a().user.currentUser)throw Error("User not logged in");let t=await d.uploadFile(e);if(t)return await r(v({updateData:{avatarUrl:t},manageLoading:!1})).unwrap(),t;throw Error("Failed to get avatar URL")}catch(e){throw r((0,o.Nh)(e instanceof Error?e.message:String(e))),e}}),k=(0,a.zD)("user/changePassword",async(e,t)=>{let{dispatch:r}=t;try{r((0,o.r1)(!0)),await u.u.changePassword({currentPassword:e.currentPassword,newPassword:e.newPassword,confirmPassword:e.confirmPassword});let t=new CustomEvent("password-change-success");document.dispatchEvent(t)}catch(e){throw r((0,o.Nh)(e instanceof Error?e.message:String(e))),e}finally{r((0,o.r1)(!1))}}),P=(0,a.zD)("user/getSettings",async(e,t)=>{let{dispatch:r}=t;try{r((0,o.r1)(!0));let e=await c.getSettings();r((0,o.mJ)(e))}catch(e){r((0,o.Nh)(e instanceof Error?e.message:String(e)))}finally{r((0,o.r1)(!1))}}),T=(0,a.zD)("user/updateSettings",async(e,t)=>{let{dispatch:r}=t;try{r((0,o.mJ)(e)),r((0,o.r1)(!0));try{await c.updateSettings(e),console.log("Settings updated on API via UserService:",e)}catch(e){console.error("Failed to update settings on API via UserService:",e)}}catch(e){throw r((0,o.Nh)(e instanceof Error?e.message:String(e))),e}finally{r((0,o.r1)(!1))}}),F=(0,a.zD)("user/fetchWallet",async(e,t)=>{let{dispatch:r,rejectWithValue:a}=t;try{r((0,o.r1)(!0));let e=await w.getMyWallet();return r((0,o.wQ)(e)),e}catch(t){let e=t instanceof Error?t.message:"获取钱包失败";return r((0,o.Nh)(e)),a(e)}finally{r((0,o.r1)(!1))}});(0,a.zD)("user/fetchTransactions",async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{dispatch:t,getState:r,rejectWithValue:a}=arguments.length>1?arguments[1]:void 0;try{t((0,o.G7)(!0));let a=r(),{page:s=a.user.transactionsPage,limit:n=a.user.transactionsLimit}=e,l=s||1,i=n||10;s!==a.user.transactionsPage&&t((0,o.r3)(l)),n!==a.user.transactionsLimit&&t((0,o.Fo)(i));let c=await w.getTransactions(l,i,{fromWalletId:e.fromWalletId,toWalletId:e.toWalletId,assetTypeId:e.assetTypeId,type:e.type});return t((0,o.As)(c.items)),void 0!==c.total&&t((0,o.me)(c.total)),void 0!==c.page&&c.page!==l&&t((0,o.r3)(c.page)),void 0!==c.limit&&c.limit!==i&&t((0,o.Fo)(c.limit)),c}catch(r){let e=r instanceof Error?r.message:"获取交易记录失败";return t((0,o.wr)(e)),a(e)}finally{t((0,o.G7)(!1))}})},3299:(e,t,r)=>{r.d(t,{A:()=>a}),r(3548);class a{static Singleton(e){return new Proxy(e,{construct(e,t,r){if(Reflect.hasMetadata(a.singletonSymbol,e));else{let o=Reflect.construct(e,t,r);Reflect.defineMetadata(a.singletonSymbol,o,e)}return Reflect.getMetadata(a.singletonSymbol,e)}})}}a.singletonSymbol=Symbol("instance"),a.Singleton},4430:(e,t,r)=>{r.d(t,{u:()=>l});var a=r(9249),o=r(6168),s=r(3299);class n{async login(e){try{return(await o.o.auth.login({loginRequestDto:e})).data}catch(e){throw console.error("Login failed:",e),e}}async register(e){try{return(await o.o.auth.register({registerRequestDto:e})).data}catch(e){throw console.error("Registration failed:",e),e}}async changePassword(e){try{await o.o.auth.changePassword({changePasswordRequestDto:e})}catch(e){throw console.error("Failed to change password:",e),e}}async oauthLogin(e){try{return(await o.o.auth.oauthLogin({oAuthRequestDto:e})).data}catch(e){throw console.error("OAuth login failed:",e),e}}}let l=new(n=(0,a.Cg)([s.A.Singleton],n))},6168:(e,t,r)=>{r.d(t,{o:()=>l});var a=r(9249),o=r(1265),s=r(3299);class n extends o.Ay{setToken(e){console.log("[SDK-Service] setToken called with token:",e?"有值":"空值");try{e&&e.length>5?(localStorage.setItem("user.token",e),console.log("[SDK-Service] Token保存到localStorage成功")):(localStorage.removeItem("user.token"),console.log("[SDK-Service] Token从localStorage移除成功"))}catch(e){console.warn("[SDK-Service] 无法操作localStorage中的token:",e)}this.setTokenToClient(e),console.log("[SDK-Service] Token已设置到客户端",e)}setTokenToClient(e){"function"==typeof this.setApiKey&&this.setApiKey(e)}enhanceAuthMethods(){var e=this;let t=this.auth.login.bind(this.auth),r=this.auth.oauthLogin.bind(this.auth),a=this.auth.register.bind(this.auth);this.auth.login=async function(){for(var r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];let s=await t(...a);return e.handleAuthResponse(s.data),s},this.auth.oauthLogin=async function(){for(var t=arguments.length,a=Array(t),o=0;o<t;o++)a[o]=arguments[o];let s=await r(...a);return e.handleAuthResponse(s.data),s},this.auth.register=async function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];let s=await a(...r);return e.handleAuthResponse(s.data),s}}handleAuthResponse(e){var t;(null==e||null==(t=e.token)?void 0:t.accessToken)&&(console.log("[SDK-Service] 接收到新令牌，正在设置..."),this.setToken(e.token.accessToken))}constructor(){let e="https://bvyw4dvnxe.ap-southeast-1.awsapprunner.com";super("",{debug:!0,serverUrl:e}),this.enhanceAuthMethods();try{let e=localStorage.getItem("user.token");e&&e.length>5&&this.setToken(e)}catch(e){console.warn("[SDK-Service] 无法从localStorage读取token:",e)}console.log("[SDK-Service] SDK服务已初始化，服务器URL:",e)}}let l=new(n=(0,a.Cg)([s.A.Singleton,(0,a.Sn)("design:type",Function),(0,a.Sn)("design:paramtypes",[])],n))},6828:(e,t,r)=>{r.d(t,{J:()=>a,X:()=>o});let a=e=>t=>r=>a=>{let o=r(a),s="object"==typeof a&&null!==a&&"type"in a?a.type:"";if(!s||e.whitelist&&e.whitelist.length>0&&!e.whitelist.some(e=>s.startsWith(e))||e.blacklist&&e.blacklist.length>0&&e.blacklist.some(e=>s.startsWith(e)))return o;let n=t.getState(),l={};if(e.paths&&e.paths.length>0&&e.paths.forEach(e=>{let t=e.split("."),r=n;for(let e of t){if(null==r)break;r=r[e]}if(void 0!==r){let e=l;for(let r=0;r<t.length-1;r++){let a=t[r];e[a]||(e[a]={}),e=e[a]}e[t[t.length-1]]=r}}),"user/logout"===s){try{localStorage.removeItem(e.key),"undefined"!=typeof localStorage&&localStorage.removeItem("user.token")}catch(e){console.error("[PersistMiddleware] Error clearing persisted state:",e)}return o}try{localStorage.setItem(e.key,JSON.stringify(l))}catch(e){console.error("[PersistMiddleware] Failed to persist state to localStorage:",e)}return o};function o(e){try{let t=localStorage.getItem(e);if(t)return JSON.parse(t)}catch(t){console.error('Failed to load persisted state for key "'.concat(e,'":'),t)}return null}},8613:(e,t,r)=>{r.d(t,{As:()=>u,Ir:()=>w,Jd:()=>c,Qg:()=>d,vT:()=>h});var a=r(2115),o=r(2045),s=r(179),n=r(1795),l=r(6828),i=r(3178);let c=()=>{let e=(0,o.j)(),t=(0,o.G)(n.xu);return(0,a.useEffect)(()=>{if(!t)try{let t=(0,l.X)("user_state");if(t&&t.user){let r=t.user;r.currentUser&&e((0,s.gV)(r.currentUser)),r.settings&&e((0,s.mJ)(r.settings))}}catch(e){console.error("Failed to load user state from localStorage:",e)}},[e,t]),{currentUser:t}},u=()=>{let e=(0,o.j)(),t=(0,o.G)(n.Kc),r=(0,o.G)(n.MU),l=(0,o.G)(n.wf),c=(0,o.G)(n.xu),u=(0,a.useCallback)(async t=>{try{return await e((0,i._v)(t)).unwrap(),!0}catch(e){return!1}},[e]),g=(0,a.useCallback)(async t=>{try{return await e((0,i.MX)(t)).unwrap(),!0}catch(e){return!1}},[e]),d=(0,a.useCallback)(async()=>{try{return await e((0,i.f7)()).unwrap(),!0}catch(e){return!1}},[e]);return{isAuthenticated:t,isLoading:r,error:l,currentUser:c,login:u,register:g,logoutUser:d,fetchUserProfile:(0,a.useCallback)(async()=>{try{return await e((0,i.Zx)()).unwrap(),!0}catch(e){return!1}},[e]),clearErrors:(0,a.useCallback)(()=>{e((0,s.Nh)(null))},[e])}},g=()=>{let e=(0,o.j)(),t=(0,o.G)(n.xu),r=(0,o.G)(n.MU),s=(0,o.G)(n.wf),l=(0,a.useCallback)(async t=>{try{return await e((0,i.Ur)({updateData:t})).unwrap(),!0}catch(e){return!1}},[e]),c=(0,a.useCallback)(async t=>{try{return await e((0,i.Hc)(t)).unwrap()}catch(e){return null}},[e]);return{user:t,isLoading:r,error:s,updateProfile:l,uploadAvatar:c,changePassword:(0,a.useCallback)(async t=>{try{return await e((0,i.qs)(t)).unwrap(),!0}catch(e){return!1}},[e]),fetchProfile:(0,a.useCallback)(async()=>{try{return await e((0,i.Zx)()).unwrap(),!0}catch(e){return!1}},[e])}},d=()=>{let e=(0,o.j)(),t=(0,o.G)(n.VL),r=(0,o.G)(n.MU),s=(0,o.G)(n.wf),l=t.notifications,c=t.privacy,u=t.theme;return{settings:t,notificationSettings:l,privacySettings:c,themeSetting:u,isLoading:r,error:s,fetchSettings:(0,a.useCallback)(async()=>{try{return await e((0,i.M_)()).unwrap(),!0}catch(e){return!1}},[e]),updateSettings:(0,a.useCallback)(async t=>{try{return await e((0,i.rK)(t)).unwrap(),!0}catch(e){return!1}},[e])}};function h(){let e=(0,o.j)(),t=(0,o.G)(n.Wk),r=(0,o.G)(n.Zg),s=(0,o.G)(n.MU),l=(0,o.G)(n.wf),c=(0,a.useCallback)(()=>e((0,i.CH)()),[e]),u=(0,a.useCallback)(e=>{if(!r||0===r.length)return 0;let t=r.find(t=>t.code===e);return t?t.balance:0},[r]);return{wallet:t,walletAssets:r,isLoading:s,error:l,fetchWallet:c,getAssetBalanceByCode:u}}let w=()=>{let e=u(),t=g(),r=d();return{user:t.user,isAuthenticated:e.isAuthenticated,isLoading:e.isLoading||t.isLoading||r.isLoading,error:e.error||t.error||r.error,notificationSettings:r.notificationSettings,privacySettings:r.privacySettings,themeSetting:r.themeSetting,login:e.login,register:e.register,logout:e.logoutUser,updateProfile:t.updateProfile,uploadAvatar:t.uploadAvatar,changePassword:t.changePassword,updateSettings:r.updateSettings,fetchProfile:t.fetchProfile,fetchSettings:r.fetchSettings,clearErrors:e.clearErrors}}}}]);